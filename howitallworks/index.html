
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A remote monitoring and management tool">
      
      
        <meta name="author" content="amidaware">
      
      
        <link rel="canonical" href="https://docs.tacticalrmm.com/howitallworks/">
      
      
        <link rel="prev" href="../update_agents/">
      
      
        <link rel="next" href="../functions/global_settings/">
      
      
        
      
      
      <link rel="icon" href="../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>How it all Works - Tactical RMM Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
      <link rel="stylesheet" href="../stylesheets/neoteroi-mkdocs.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#how-it-all-works" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Tactical RMM Documentation" class="md-header__button md-logo" aria-label="Tactical RMM Documentation" data-md-component="logo">
      
  <img src="../images/onit.ico" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Tactical RMM Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              How it all Works
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="light" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/amidaware/tacticalrmm/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    amidaware/tacticalrmm
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Tactical RMM Documentation" class="md-nav__button md-logo" aria-label="Tactical RMM Documentation" data-md-component="logo">
      
  <img src="../images/onit.ico" alt="logo">

    </a>
    Tactical RMM Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/amidaware/tacticalrmm/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    amidaware/tacticalrmm
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../sponsor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sponsor
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../code_signing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Code Signing
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../support/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Support
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../roadmap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Roadmap
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../guide_gettingstarted/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Getting Started Guide
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    RMM Server Installation
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    RMM Server Installation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../install_considerations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Install Considerations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../install_server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Traditional Install
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../install_docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Docker Install
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    RMM Server Updating
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    RMM Server Updating
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../update_server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Updating the RMM
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../update_docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Updating the RMM (Docker)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Agents
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Agents
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../install_agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Agent Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../update_agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Updating Agents
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" checked>
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Functionality
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    Functionality
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    How it all Works
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    How it all Works
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#understanding-trmm" class="md-nav__link">
    <span class="md-ellipsis">
      
        Understanding TRMM
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#server" class="md-nav__link">
    <span class="md-ellipsis">
      
        Server
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#outbound-firewall-rules" class="md-nav__link">
    <span class="md-ellipsis">
      
        Outbound Firewall Rules
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Outbound Firewall Rules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#regular-use" class="md-nav__link">
    <span class="md-ellipsis">
      
        Regular Use
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#server-without-code-signing-key" class="md-nav__link">
    <span class="md-ellipsis">
      
        Server Without Code Signing Key
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#server-with-code-signing-key" class="md-nav__link">
    <span class="md-ellipsis">
      
        Server With Code Signing Key
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-services" class="md-nav__link">
    <span class="md-ellipsis">
      
        System Services
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="System Services">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nginx-web-server" class="md-nav__link">
    <span class="md-ellipsis">
      
        Nginx Web Server
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tactical-rmm-django-uwsgi-service" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tactical RMM (Django uWSGI) Service
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#daphne-django-channels-daemon" class="md-nav__link">
    <span class="md-ellipsis">
      
        Daphne: Django Channels Daemon
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nats-server-service" class="md-nav__link">
    <span class="md-ellipsis">
      
        NATS Server Service
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nats-api-service" class="md-nav__link">
    <span class="md-ellipsis">
      
        NATS API Service
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#celery-service" class="md-nav__link">
    <span class="md-ellipsis">
      
        Celery Service
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#celery-beat-service" class="md-nav__link">
    <span class="md-ellipsis">
      
        Celery Beat Service
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#redis-service" class="md-nav__link">
    <span class="md-ellipsis">
      
        Redis Service
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#meshcentral" class="md-nav__link">
    <span class="md-ellipsis">
      
        MeshCentral
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#meshcentral-agent" class="md-nav__link">
    <span class="md-ellipsis">
      
        MeshCentral Agent
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      
        Other Dependencies
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#windows-agent" class="md-nav__link">
    <span class="md-ellipsis">
      
        Windows Agent
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Windows Agent">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#runasuser-functionality" class="md-nav__link">
    <span class="md-ellipsis">
      
        RunAsUser functionality
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outbound-firewall-rules_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Outbound Firewall Rules
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Outbound Firewall Rules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#unsigned-agents" class="md-nav__link">
    <span class="md-ellipsis">
      
        Unsigned Agents
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#signed-agents" class="md-nav__link">
    <span class="md-ellipsis">
      
        Signed Agents
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-installation-process" class="md-nav__link">
    <span class="md-ellipsis">
      
        Agent Installation Process
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-update-process" class="md-nav__link">
    <span class="md-ellipsis">
      
        Agent Update Process
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tactical-agent-debugging" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tactical Agent Debugging
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tactical Agent Debugging">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mesh-agent-recovery" class="md-nav__link">
    <span class="md-ellipsis">
      
        Mesh Agent Recovery
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tactical-agent-recovery" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tactical Agent Recovery
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#windows-update-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Windows Update Management
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Windows Update Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tldr-tactical-rmm-based-patching-recommendation" class="md-nav__link">
    <span class="md-ellipsis">
      
        TLDR: Tactical RMM Based Patching Recommendation
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#log-files" class="md-nav__link">
    <span class="md-ellipsis">
      
        Log Files
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#failed-successful-admin-logins" class="md-nav__link">
    <span class="md-ellipsis">
      
        Failed / Successful Admin logins
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../functions/global_settings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Global Settings
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../functions/alerting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Alerting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../functions/api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API Access
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../functions/automated_checks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Checks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../functions/automated_tasks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Automated Tasks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../functions/automation_policies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Automation Policies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../functions/custom_fields/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Custom Fields
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../functions/django_admin/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Django Admin
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../functions/emailsms_alert/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Email & SMS Alerts
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../functions/keystore/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Global Keystore
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../functions/maintenance_mode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Maintenance Mode
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../functions/permissions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Permissions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../functions/remote_bg/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Remote Background
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../functions/settings_override/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overriding / Customizing Default Settings
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../functions/scripting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Scripting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../functions/snmp_checks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SNMP Checks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ee/sso/sso/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Single Sign-On (SSO)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../functions/software/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Software Tab
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../functions/url_actions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    URL Actions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../functions/user_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    User Interface Preferences
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../functions/webhooks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Web Hooks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../functions/web_terminal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Web Terminal
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../script_variables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Reference: Script Variables
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../functions/examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Examples
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Reporting
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    Reporting
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ee/reporting/reporting_overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ee/reporting/functions/faq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    - FAQ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ee/reporting/functions/reporting_basics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    - The Basics
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ee/reporting/functions/reporting_basetemplates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    - Base Templates
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ee/reporting/functions/reporting_variables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    - Variables
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ee/reporting/functions/reporting_dataqueries/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    - Data Queries
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ee/reporting/functions/reporting_assets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    - Assets
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ee/reporting/functions/tipsntricks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    - Tips n' Tricks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ee/reporting/functions/examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    - Examples
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../backup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Backup
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../restore/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Restore
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../av/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Antivirus Exclusions
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Troubleshooting
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    FAQ
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../management_cmds/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Management Commands
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../mesh_integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MeshCentral Integration
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_19" >
        
          
          <label class="md-nav__link" for="__nav_19" id="__nav_19_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    3rd Party Integrations
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_19_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_19">
            <span class="md-nav__icon md-icon"></span>
            
  
    3rd Party Integrations
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3rdparty_grafana/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Grafana
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3rdparty_anydesk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AnyDesk
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3rdparty_n-able-takecontrol/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    N-Able
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3rdparty_bomgar/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Bomgar
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3rdparty_screenconnect/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ConnectWise Control / ScreenConnect
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3rdparty_rustdesk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    RustDesk
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3rdparty_splashtop/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Splashtop
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3rdparty_supremo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Supremo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3rdparty_teamviewer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    TeamViewer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3rdparty_bitdefender_gravityzone/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    BitDefender GravityZone
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3rdparty_bitdefender_total_security/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    BitDefender Total Security
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3rdparty_zammad/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Zammad
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3rdparty_dashy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dashy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_20" >
        
          
          <label class="md-nav__link" for="__nav_20" id="__nav_20_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Unsupported Extras
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_20_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_20">
            <span class="md-nav__icon md-icon"></span>
            
  
    Unsupported Extras
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../unsupported_guidelines/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Unsupported Guidelines
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../unsupported_scripts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Unsupported Configs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../securing_nginx/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Securing nginx
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../unsupported_proxies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Unsupported Proxies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../unsupported_synology_docker_install/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installing in Synology Docker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../unsupported_platforms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installing on other platforms
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../tipsntricks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tips n' Tricks
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_22" >
        
          
          <label class="md-nav__link" for="__nav_22" id="__nav_22_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Contributing
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_22_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_22">
            <span class="md-nav__icon md-icon"></span>
            
  
    Contributing
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contributing to Docs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing_community_scripts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contributing to Community Scripts
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing_reporting_templates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contributing to Reporting Templates
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing_using_browser/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contributing using a browser
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing_using_vscode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contributing using VS Code
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing_using_docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contributing using Docker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing_using_a_remote_server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contributing using a Remote Server
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../security/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Security
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../license/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    License
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#understanding-trmm" class="md-nav__link">
    <span class="md-ellipsis">
      
        Understanding TRMM
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#server" class="md-nav__link">
    <span class="md-ellipsis">
      
        Server
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#outbound-firewall-rules" class="md-nav__link">
    <span class="md-ellipsis">
      
        Outbound Firewall Rules
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Outbound Firewall Rules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#regular-use" class="md-nav__link">
    <span class="md-ellipsis">
      
        Regular Use
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#server-without-code-signing-key" class="md-nav__link">
    <span class="md-ellipsis">
      
        Server Without Code Signing Key
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#server-with-code-signing-key" class="md-nav__link">
    <span class="md-ellipsis">
      
        Server With Code Signing Key
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-services" class="md-nav__link">
    <span class="md-ellipsis">
      
        System Services
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="System Services">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nginx-web-server" class="md-nav__link">
    <span class="md-ellipsis">
      
        Nginx Web Server
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tactical-rmm-django-uwsgi-service" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tactical RMM (Django uWSGI) Service
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#daphne-django-channels-daemon" class="md-nav__link">
    <span class="md-ellipsis">
      
        Daphne: Django Channels Daemon
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nats-server-service" class="md-nav__link">
    <span class="md-ellipsis">
      
        NATS Server Service
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nats-api-service" class="md-nav__link">
    <span class="md-ellipsis">
      
        NATS API Service
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#celery-service" class="md-nav__link">
    <span class="md-ellipsis">
      
        Celery Service
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#celery-beat-service" class="md-nav__link">
    <span class="md-ellipsis">
      
        Celery Beat Service
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#redis-service" class="md-nav__link">
    <span class="md-ellipsis">
      
        Redis Service
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#meshcentral" class="md-nav__link">
    <span class="md-ellipsis">
      
        MeshCentral
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#meshcentral-agent" class="md-nav__link">
    <span class="md-ellipsis">
      
        MeshCentral Agent
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      
        Other Dependencies
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#windows-agent" class="md-nav__link">
    <span class="md-ellipsis">
      
        Windows Agent
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Windows Agent">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#runasuser-functionality" class="md-nav__link">
    <span class="md-ellipsis">
      
        RunAsUser functionality
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outbound-firewall-rules_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Outbound Firewall Rules
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Outbound Firewall Rules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#unsigned-agents" class="md-nav__link">
    <span class="md-ellipsis">
      
        Unsigned Agents
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#signed-agents" class="md-nav__link">
    <span class="md-ellipsis">
      
        Signed Agents
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-installation-process" class="md-nav__link">
    <span class="md-ellipsis">
      
        Agent Installation Process
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-update-process" class="md-nav__link">
    <span class="md-ellipsis">
      
        Agent Update Process
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tactical-agent-debugging" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tactical Agent Debugging
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tactical Agent Debugging">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mesh-agent-recovery" class="md-nav__link">
    <span class="md-ellipsis">
      
        Mesh Agent Recovery
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tactical-agent-recovery" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tactical Agent Recovery
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#windows-update-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Windows Update Management
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Windows Update Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tldr-tactical-rmm-based-patching-recommendation" class="md-nav__link">
    <span class="md-ellipsis">
      
        TLDR: Tactical RMM Based Patching Recommendation
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#log-files" class="md-nav__link">
    <span class="md-ellipsis">
      
        Log Files
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#failed-successful-admin-logins" class="md-nav__link">
    <span class="md-ellipsis">
      
        Failed / Successful Admin logins
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="how-it-all-works">How It All Works<a class="headerlink" href="#how-it-all-works" title="Permanent link">&para;</a></h1>
<h2 id="understanding-trmm">Understanding TRMM<a class="headerlink" href="#understanding-trmm" title="Permanent link">&para;</a></h2>
<p>Anything you configure: scripts, tasks, patching, etc is queued and scheduled on the server to do something.
Everything that is queued, happens immediately when agents are online.
The agent gets a NATS command, the server tells it to do xyz and it does it.</p>
<p>When agents are not connected to the server nothing happens. The Windows Task Scheduler says do x at some time, what it's asked to do is get x command from the server. If the server is offline, nothing happens.
If an agent comes online, every x interval (Windows Update, pending tasks etc) check and see if there is something for me to do that I missed while I was offline. When that time occurs (eg agent sees if it needs to update itself at 35 minutes past every hour <a href="../update_agents/">Update Agents</a> ) it'll get requested on the online agent.</p>
<p>That's the simplified general rule for everything TRMM.</p>
<p><a href="../images/TacticalRMM-Network.png"><img alt="Network Design" src="../images/TacticalRMM-Network.png" /></a></p>
<p><a href="../images/TacticalRMM-Network.drawio">Image Source</a></p>
<p>Still need graphics for:</p>
<div class="codehilite"><pre><span></span><code>1. Agent installer steps

2. Agent checks / tasks and how they work on the workstation/interact with server
</code></pre></div>

<h2 id="server">Server<a class="headerlink" href="#server" title="Permanent link">&para;</a></h2>
<p>Has a Postgres database located here:</p>
<p><a href="../functions/django_admin/">Django Admin</a></p>
<div class="admonition description">
<p class="admonition-title">Description</p>
<p>A web interface for the Postgres database</p>
</div>
<p>All Tactical RMM dependencies are listed <a href="https://github.com/amidaware/tacticalrmm/blob/develop/api/tacticalrmm/requirements.txt">here</a>.</p>
<p>A complete list of all packages used by Tactical RMM are listed <a href="https://github.com/amidaware/tacticalrmm-web/blob/develop/package-lock.json">here</a>.</p>
<h3 id="outbound-firewall-rules">Outbound Firewall Rules<a class="headerlink" href="#outbound-firewall-rules" title="Permanent link">&para;</a></h3>
<p>If you have strict outbound firewall rules these are the outbound rules needed for all functionality:</p>
<h4 id="regular-use">Regular Use<a class="headerlink" href="#regular-use" title="Permanent link">&para;</a></h4>
<ol>
<li>Access to Github for downloading and installing TRMM, and checking if new TRMM version is available to show in the admin web panel.</li>
<li>Access to nginx.org to <a href="https://github.com/amidaware/tacticalrmm/blob/ae5d0b1d81ed7e7ee1f3ebaafaf8a8ad96c8a49a/install.sh#L180">install</a></li>
<li>Access to mongodb.org to <a href="https://github.com/amidaware/tacticalrmm/blob/ae5d0b1d81ed7e7ee1f3ebaafaf8a8ad96c8a49a/install.sh#L241">install</a></li>
<li>Access to python.org to <a href="https://github.com/amidaware/tacticalrmm/blob/ae5d0b1d81ed7e7ee1f3ebaafaf8a8ad96c8a49a/install.sh#L253">install</a></li>
<li>Access to postgresql.org to <a href="https://github.com/amidaware/tacticalrmm/blob/ae5d0b1d81ed7e7ee1f3ebaafaf8a8ad96c8a49a/install.sh#L269">install</a></li>
<li>Whatever servers <a href="https://letsencrypt.org/docs/faq/#what-ip-addresses-does-let-s-encrypt-use-to-validate-my-web-server">Let's Encrypt</a> uses for DNS-01 challenges</li>
<li>Cloudflare is for the licensing servers.</li>
</ol>
<h4 id="server-without-code-signing-key">Server Without Code Signing Key<a class="headerlink" href="#server-without-code-signing-key" title="Permanent link">&para;</a></h4>
<p>No additional rules needed.</p>
<h4 id="server-with-code-signing-key">Server With Code Signing Key<a class="headerlink" href="#server-with-code-signing-key" title="Permanent link">&para;</a></h4>
<p>No additional rules needed.</p>
<h3 id="system-services">System Services<a class="headerlink" href="#system-services" title="Permanent link">&para;</a></h3>
<p>This lists the system services used by the server.</p>
<p>Quick server health inspection</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>/rmm/api/tacticalrmm/
<span class="nb">source</span><span class="w"> </span>../env/bin/activate
<span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span>active<span class="w"> </span>reserved<span class="w"> </span>scheduled<span class="w"> </span>stats<span class="p">;</span><span class="w"> </span><span class="k">do</span><span class="w"> </span>celery<span class="w"> </span>-A<span class="w"> </span>tacticalrmm<span class="w"> </span>inspect<span class="w"> </span><span class="nv">$i</span><span class="p">;</span><span class="w"> </span><span class="k">done</span>
</code></pre></div>
<h4 id="nginx-web-server">Nginx Web Server<a class="headerlink" href="#nginx-web-server" title="Permanent link">&para;</a></h4>
<p>Nginx is the web server for the <code>rmm</code>, <code>api</code>, and <code>mesh</code> domains. All sites redirect port 80 (HTTP) to port 443 (HTTPS).</p>
<details class="abstract" open="open">
<summary>nginx configuration (a.k.a. sites available)</summary>
<ul>
<li><a href="https://docs.nginx.com/nginx/admin-guide/basic-functionality/managing-configuration-files/">nginx configuration docs</a></li>
</ul>
<div class="tabbed-set tabbed-alternate" data-tabs="1:4"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><input id="__tabbed_1_4" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.36 14c.08-.66.14-1.32.14-2s-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2m-5.15 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56M14.34 14H9.66c-.1-.66-.16-1.32-.16-2s.06-1.35.16-2h4.68c.09.65.16 1.32.16 2s-.07 1.34-.16 2M12 19.96c-.83-1.2-1.5-2.53-1.91-3.96h3.82c-.41 1.43-1.08 2.76-1.91 3.96M8 8H5.08A7.92 7.92 0 0 1 9.4 4.44C8.8 5.55 8.35 6.75 8 8m-2.92 8H8c.35 1.25.8 2.45 1.4 3.56A8 8 0 0 1 5.08 16m-.82-2C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2s.06 1.34.14 2M12 4.03c.83 1.2 1.5 2.54 1.91 3.97h-3.82c.41-1.43 1.08-2.77 1.91-3.97M18.92 8h-2.95a15.7 15.7 0 0 0-1.38-3.56c1.84.63 3.37 1.9 4.33 3.56M12 2C6.47 2 2 6.5 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2"/></svg></span> <code>rmm.example.com</code></label><label for="__tabbed_1_2"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.36 14c.08-.66.14-1.32.14-2s-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2m-5.15 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56M14.34 14H9.66c-.1-.66-.16-1.32-.16-2s.06-1.35.16-2h4.68c.09.65.16 1.32.16 2s-.07 1.34-.16 2M12 19.96c-.83-1.2-1.5-2.53-1.91-3.96h3.82c-.41 1.43-1.08 2.76-1.91 3.96M8 8H5.08A7.92 7.92 0 0 1 9.4 4.44C8.8 5.55 8.35 6.75 8 8m-2.92 8H8c.35 1.25.8 2.45 1.4 3.56A8 8 0 0 1 5.08 16m-.82-2C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2s.06 1.34.14 2M12 4.03c.83 1.2 1.5 2.54 1.91 3.97h-3.82c.41-1.43 1.08-2.77 1.91-3.97M18.92 8h-2.95a15.7 15.7 0 0 0-1.38-3.56c1.84.63 3.37 1.9 4.33 3.56M12 2C6.47 2 2 6.5 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2"/></svg></span> <code>api.example.com</code></label><label for="__tabbed_1_3"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.36 14c.08-.66.14-1.32.14-2s-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2m-5.15 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56M14.34 14H9.66c-.1-.66-.16-1.32-.16-2s.06-1.35.16-2h4.68c.09.65.16 1.32.16 2s-.07 1.34-.16 2M12 19.96c-.83-1.2-1.5-2.53-1.91-3.96h3.82c-.41 1.43-1.08 2.76-1.91 3.96M8 8H5.08A7.92 7.92 0 0 1 9.4 4.44C8.8 5.55 8.35 6.75 8 8m-2.92 8H8c.35 1.25.8 2.45 1.4 3.56A8 8 0 0 1 5.08 16m-.82-2C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2s.06 1.34.14 2M12 4.03c.83 1.2 1.5 2.54 1.91 3.97h-3.82c.41-1.43 1.08-2.77 1.91-3.97M18.92 8h-2.95a15.7 15.7 0 0 0-1.38-3.56c1.84.63 3.37 1.9 4.33 3.56M12 2C6.47 2 2 6.5 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2"/></svg></span> <code>mesh.example.com</code></label><label for="__tabbed_1_4"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.36 14c.08-.66.14-1.32.14-2s-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2m-5.15 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56M14.34 14H9.66c-.1-.66-.16-1.32-.16-2s.06-1.35.16-2h4.68c.09.65.16 1.32.16 2s-.07 1.34-.16 2M12 19.96c-.83-1.2-1.5-2.53-1.91-3.96h3.82c-.41 1.43-1.08 2.76-1.91 3.96M8 8H5.08A7.92 7.92 0 0 1 9.4 4.44C8.8 5.55 8.35 6.75 8 8m-2.92 8H8c.35 1.25.8 2.45 1.4 3.56A8 8 0 0 1 5.08 16m-.82-2C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2s.06 1.34.14 2M12 4.03c.83 1.2 1.5 2.54 1.91 3.97h-3.82c.41-1.43 1.08-2.77 1.91-3.97M18.92 8h-2.95a15.7 15.7 0 0 0-1.38-3.56c1.84.63 3.37 1.9 4.33 3.56M12 2C6.47 2 2 6.5 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2"/></svg></span> default</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>This serves the frontend website that you interact with.</p>
<ul>
<li>Config: <code>/etc/nginx/sites-enabled/frontend.conf</code></li>
<li>root: <code>/var/www/rmm/dist</code></li>
<li>Access log: <code>/var/log/nginx/frontend-access.log</code></li>
<li>Error log: <code>/var/log/nginx/frontend-error.log</code></li>
<li>TLS certificate: <code>/etc/letsencrypt/live/example.com/fullchain.pem</code></li>
</ul>
</div>
<div class="tabbed-block">
<p>This serves the TRMM API for the frontend and agents.</p>
<ul>
<li>Config: <code>/etc/nginx/sites-enabled/rmm.conf</code></li>
<li>roots:<ul>
<li><code>/rmm/api/tacticalrmm/static/</code></li>
<li><code>/rmm/api/tacticalrmm/tacticalrmm/private/</code></li>
</ul>
</li>
<li>Upstreams:<ul>
<li><code>unix://rmm/api/tacticalrmm/tacticalrmm.sock</code></li>
<li><code>unix://rmm/daphne.sock</code></li>
</ul>
</li>
<li>Access log: <code>/rmm/api/tacticalrmm/tacticalrmm/private/log/access.log</code></li>
<li>Error log: <code>/rmm/api/tacticalrmm/tacticalrmm/private/log/error.log</code></li>
<li>TLS certificate: <code>/etc/letsencrypt/live/example.com/fullchain.pem</code></li>
</ul>
</div>
<div class="tabbed-block">
<p>This serves MeshCentral for remote access.</p>
<ul>
<li>Config: <code>/etc/nginx/sites-enabled/meshcentral.conf</code></li>
<li>Upstream: <code>http://127.0.0.1:4430/</code></li>
<li>Access log: <code>/var/log/nginx/access.log</code> (uses default)</li>
<li>Error log: <code>/var/log/nginx/error.log</code> (uses default)</li>
<li>TLS certificate: <code>/etc/letsencrypt/live/example.com/fullchain.pem</code></li>
</ul>
</div>
<div class="tabbed-block">
<p>This is the default site installed with nginx. This listens on port 80 only.</p>
<ul>
<li>Config: <code>/etc/nginx/sites-enabled/default</code></li>
<li>root: <code>/var/www/rmm/dist</code></li>
<li>Access log: <code>/var/log/nginx/access.log</code> (uses default)</li>
<li>Error log: <code>/var/log/nginx/error.log</code> (uses default)</li>
</ul>
</div>
</div>
</div>
</details>
<details class="note" open="open">
<summary>systemd config</summary>
<div class="tabbed-set tabbed-alternate" data-tabs="2:3"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><input id="__tabbed_2_3" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 19v-3h8v3zm-4.5-6L2.47 7h4.24l4.96 4.95c.58.59.58 1.55 0 2.12L6.74 19H2.5z"/></svg></span> status commands</label><label for="__tabbed_2_2"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 12a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-7.66-4.26c.58.33 1.31.13 1.66-.44.31-.57.12-1.3-.46-1.64-.57-.33-1.31-.16-1.64.44-.33.57-.13 1.31.44 1.64m-2.46 7.76c-.53 0-1.03-.11-1.47-.32l-.84 1.5c.7.32 1.48.54 2.31.54.49 0 .95-.07 1.4-.19.08-.49.36-.93.82-1.19.46-.27.98-.29 1.44-.12.89-.87 1.46-2.06 1.55-3.39l-1.71-.02a3.506 3.506 0 0 1-3.5 3.19m0-7c1.84 0 3.34 1.39 3.5 3.19l1.71-.03a5.2 5.2 0 0 0-1.55-3.38c-.46.17-.99.14-1.44-.12-.46-.26-.74-.71-.82-1.19-.45-.12-.91-.19-1.4-.19-.83 0-1.61.19-2.31.54l.84 1.5c.44-.21.94-.32 1.47-.32M8.37 12c0-1.19.59-2.24 1.49-2.87L9 7.65a5.22 5.22 0 0 0-2.17 3.04c.38.31.62.78.62 1.31s-.24 1-.62 1.31A5.2 5.2 0 0 0 9 16.34l.86-1.47c-.9-.63-1.49-1.68-1.49-2.87m5.97 4.26c-.57.33-.77 1.06-.44 1.64.33.57 1.07.77 1.64.44.58-.34.77-1.07.46-1.64-.35-.58-1.08-.77-1.66-.44M5.76 10.8c-.66 0-1.2.54-1.2 1.2s.54 1.2 1.2 1.2c.67 0 1.2-.54 1.2-1.2s-.53-1.2-1.2-1.2"/></svg></span> standard</label><label for="__tabbed_2_3"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21.81 10.25c-.06-.04-.56-.43-1.64-.43-.28 0-.56.03-.84.08-.21-1.4-1.38-2.11-1.43-2.14l-.29-.17-.18.27c-.24.36-.43.77-.51 1.19-.2.8-.08 1.56.33 2.21-.49.28-1.29.35-1.46.35H2.62c-.34 0-.62.28-.62.63 0 1.15.18 2.3.58 3.38.45 1.19 1.13 2.07 2 2.61.98.6 2.59.94 4.42.94.79 0 1.61-.07 2.42-.22 1.12-.2 2.2-.59 3.19-1.16A8.3 8.3 0 0 0 16.78 16c1.05-1.17 1.67-2.5 2.12-3.65h.19c1.14 0 1.85-.46 2.24-.85.26-.24.45-.53.59-.87l.08-.24zm-17.96.99h1.76c.08 0 .16-.07.16-.16V9.5c0-.08-.07-.16-.16-.16H3.85c-.09 0-.16.07-.16.16v1.58c.01.09.07.16.16.16m2.43 0h1.76c.08 0 .16-.07.16-.16V9.5c0-.08-.07-.16-.16-.16H6.28c-.09 0-.16.07-.16.16v1.58c.01.09.07.16.16.16m2.47 0h1.75c.1 0 .17-.07.17-.16V9.5c0-.08-.06-.16-.17-.16H8.75c-.08 0-.15.07-.15.16v1.58c0 .09.06.16.15.16m2.44 0h1.77c.08 0 .15-.07.15-.16V9.5c0-.08-.06-.16-.15-.16h-1.77c-.08 0-.15.07-.15.16v1.58c0 .09.07.16.15.16M6.28 9h1.76c.08 0 .16-.09.16-.18V7.25c0-.09-.07-.16-.16-.16H6.28c-.09 0-.16.06-.16.16v1.57c.01.09.07.18.16.18m2.47 0h1.75c.1 0 .17-.09.17-.18V7.25c0-.09-.06-.16-.17-.16H8.75c-.08 0-.15.06-.15.16v1.57c0 .09.06.18.15.18m2.44 0h1.77c.08 0 .15-.09.15-.18V7.25c0-.09-.07-.16-.15-.16h-1.77c-.08 0-.15.06-.15.16v1.57c0 .09.07.18.15.18m0-2.28h1.77c.08 0 .15-.07.15-.16V5c0-.1-.07-.17-.15-.17h-1.77c-.08 0-.15.06-.15.17v1.56c0 .08.07.16.15.16m2.46 4.52h1.76c.09 0 .16-.07.16-.16V9.5c0-.08-.07-.16-.16-.16h-1.76c-.08 0-.15.07-.15.16v1.58c0 .09.07.16.15.16"/></svg></span> docker</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<ul>
<li>Status: <code>systemctl status --full nginx.service</code></li>
<li>Stop: <code>systemctl stop nginx.service</code></li>
<li>Start: <code>systemctl start nginx.service</code></li>
<li>Restart: <code>systemctl restart nginx.service</code></li>
<li>Restart: <code>systemctl reload nginx.service</code> reloads the config without restarting</li>
<li>Test config: <code>nginx -t</code></li>
<li>Listening process: <code>ss -tulnp | grep nginx</code></li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li>Service: <code>nginx.service</code></li>
<li>Address: <code>0.0.0.0</code></li>
<li>Port: 443</li>
<li>Exec: <code>/usr/sbin/nginx -g 'daemon on; master_process on;'</code></li>
<li>Version: 1.18.0</li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li>From the docker host view container status - <code>docker ps --filter "name=trmm-nginx"</code></li>
<li>View logs: <code>docker compose logs tactical-nginx</code></li>
<li>"tail" logs: <code>docker compose logs tactical-nginx | tail</code></li>
<li>Shell access: <code>docker exec -it trmm-nginx /bin/bash</code></li>
</ul>
</div>
</div>
</div>
</details>
<h4 id="tactical-rmm-django-uwsgi-service">Tactical RMM (Django uWSGI) Service<a class="headerlink" href="#tactical-rmm-django-uwsgi-service" title="Permanent link">&para;</a></h4>
<p>Built on the Django framework, the Tactical RMM service is the heart of the system by serving the API for the frontend and agents.</p>
<details class="note" open="open">
<summary>uWSGI config</summary>
<ul>
<li><a href="https://uwsgi-docs.readthedocs.io/en/latest/index.html">uWSGI docs</a></li>
</ul>
<div class="tabbed-set tabbed-alternate" data-tabs="3:3"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><input id="__tabbed_3_3" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 19v-3h8v3zm-4.5-6L2.47 7h4.24l4.96 4.95c.58.59.58 1.55 0 2.12L6.74 19H2.5z"/></svg></span> status commands</label><label for="__tabbed_3_2"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 12a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-7.66-4.26c.58.33 1.31.13 1.66-.44.31-.57.12-1.3-.46-1.64-.57-.33-1.31-.16-1.64.44-.33.57-.13 1.31.44 1.64m-2.46 7.76c-.53 0-1.03-.11-1.47-.32l-.84 1.5c.7.32 1.48.54 2.31.54.49 0 .95-.07 1.4-.19.08-.49.36-.93.82-1.19.46-.27.98-.29 1.44-.12.89-.87 1.46-2.06 1.55-3.39l-1.71-.02a3.506 3.506 0 0 1-3.5 3.19m0-7c1.84 0 3.34 1.39 3.5 3.19l1.71-.03a5.2 5.2 0 0 0-1.55-3.38c-.46.17-.99.14-1.44-.12-.46-.26-.74-.71-.82-1.19-.45-.12-.91-.19-1.4-.19-.83 0-1.61.19-2.31.54l.84 1.5c.44-.21.94-.32 1.47-.32M8.37 12c0-1.19.59-2.24 1.49-2.87L9 7.65a5.22 5.22 0 0 0-2.17 3.04c.38.31.62.78.62 1.31s-.24 1-.62 1.31A5.2 5.2 0 0 0 9 16.34l.86-1.47c-.9-.63-1.49-1.68-1.49-2.87m5.97 4.26c-.57.33-.77 1.06-.44 1.64.33.57 1.07.77 1.64.44.58-.34.77-1.07.46-1.64-.35-.58-1.08-.77-1.66-.44M5.76 10.8c-.66 0-1.2.54-1.2 1.2s.54 1.2 1.2 1.2c.67 0 1.2-.54 1.2-1.2s-.53-1.2-1.2-1.2"/></svg></span> standard</label><label for="__tabbed_3_3"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21.81 10.25c-.06-.04-.56-.43-1.64-.43-.28 0-.56.03-.84.08-.21-1.4-1.38-2.11-1.43-2.14l-.29-.17-.18.27c-.24.36-.43.77-.51 1.19-.2.8-.08 1.56.33 2.21-.49.28-1.29.35-1.46.35H2.62c-.34 0-.62.28-.62.63 0 1.15.18 2.3.58 3.38.45 1.19 1.13 2.07 2 2.61.98.6 2.59.94 4.42.94.79 0 1.61-.07 2.42-.22 1.12-.2 2.2-.59 3.19-1.16A8.3 8.3 0 0 0 16.78 16c1.05-1.17 1.67-2.5 2.12-3.65h.19c1.14 0 1.85-.46 2.24-.85.26-.24.45-.53.59-.87l.08-.24zm-17.96.99h1.76c.08 0 .16-.07.16-.16V9.5c0-.08-.07-.16-.16-.16H3.85c-.09 0-.16.07-.16.16v1.58c.01.09.07.16.16.16m2.43 0h1.76c.08 0 .16-.07.16-.16V9.5c0-.08-.07-.16-.16-.16H6.28c-.09 0-.16.07-.16.16v1.58c.01.09.07.16.16.16m2.47 0h1.75c.1 0 .17-.07.17-.16V9.5c0-.08-.06-.16-.17-.16H8.75c-.08 0-.15.07-.15.16v1.58c0 .09.06.16.15.16m2.44 0h1.77c.08 0 .15-.07.15-.16V9.5c0-.08-.06-.16-.15-.16h-1.77c-.08 0-.15.07-.15.16v1.58c0 .09.07.16.15.16M6.28 9h1.76c.08 0 .16-.09.16-.18V7.25c0-.09-.07-.16-.16-.16H6.28c-.09 0-.16.06-.16.16v1.57c.01.09.07.18.16.18m2.47 0h1.75c.1 0 .17-.09.17-.18V7.25c0-.09-.06-.16-.17-.16H8.75c-.08 0-.15.06-.15.16v1.57c0 .09.06.18.15.18m2.44 0h1.77c.08 0 .15-.09.15-.18V7.25c0-.09-.07-.16-.15-.16h-1.77c-.08 0-.15.06-.15.16v1.57c0 .09.07.18.15.18m0-2.28h1.77c.08 0 .15-.07.15-.16V5c0-.1-.07-.17-.15-.17h-1.77c-.08 0-.15.06-.15.17v1.56c0 .08.07.16.15.16m2.46 4.52h1.76c.09 0 .16-.07.16-.16V9.5c0-.08-.07-.16-.16-.16h-1.76c-.08 0-.15.07-.15.16v1.58c0 .09.07.16.15.16"/></svg></span> docker</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<ul>
<li>Status: <code>systemctl status --full rmm.service</code></li>
<li>Stop: <code>systemctl stop rmm.service</code></li>
<li>Start: <code>systemctl start rmm.service</code></li>
<li>Restart: <code>systemctl restart rmm.service</code></li>
<li>journalctl:<ul>
<li>"tail" the logs: <code>journalctl --identifier uwsgi --follow</code></li>
<li>View the logs: <code>journalctl --identifier uwsgi --since "30 minutes ago" | less</code></li>
<li>Debug logs for 5xx errors will be located in <code>/rmm/api/tacticalrmm/tacticalrmm/private/log</code></li>
</ul>
</li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li>Service: <code>rmm.service</code></li>
<li>Socket: <code>/rmm/api/tacticalrmm/tacticalrmm.sock</code></li>
<li>uWSGI config: <code>/rmm/api/tacticalrmm/app.ini</code></li>
<li>Log: None</li>
<li>Journal identifier: <code>uwsgi</code></li>
<li>Version: 2.0.18</li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li>From the docker host view container status - <code>docker ps --filter "name=trmm-backend"</code></li>
<li>View logs: <code>docker compose logs tactical-backend</code></li>
<li>"tail" logs: <code>docker compose logs tactical-backend | tail</code></li>
<li>Shell access: <code>docker exec -it trmm-backend /bin/bash</code></li>
</ul>
</div>
</div>
</div>
</details>
<h4 id="daphne-django-channels-daemon">Daphne: Django Channels Daemon<a class="headerlink" href="#daphne-django-channels-daemon" title="Permanent link">&para;</a></h4>
<p><a href="https://github.com/django/daphne">Daphne</a> is the official ASGI HTTP / WebSocket server maintained by the <a href="https://channels.readthedocs.io/en/stable/index.html">Channels project</a>.</p>
<details class="note" open="open">
<summary>Daphne config</summary>
<ul>
<li>Django <a href="https://channels.readthedocs.io/en/stable/topics/channel_layers.html">Channels configuration docs</a></li>
</ul>
<div class="tabbed-set tabbed-alternate" data-tabs="4:3"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><input id="__tabbed_4_3" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 19v-3h8v3zm-4.5-6L2.47 7h4.24l4.96 4.95c.58.59.58 1.55 0 2.12L6.74 19H2.5z"/></svg></span> status commands</label><label for="__tabbed_4_2"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 12a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-7.66-4.26c.58.33 1.31.13 1.66-.44.31-.57.12-1.3-.46-1.64-.57-.33-1.31-.16-1.64.44-.33.57-.13 1.31.44 1.64m-2.46 7.76c-.53 0-1.03-.11-1.47-.32l-.84 1.5c.7.32 1.48.54 2.31.54.49 0 .95-.07 1.4-.19.08-.49.36-.93.82-1.19.46-.27.98-.29 1.44-.12.89-.87 1.46-2.06 1.55-3.39l-1.71-.02a3.506 3.506 0 0 1-3.5 3.19m0-7c1.84 0 3.34 1.39 3.5 3.19l1.71-.03a5.2 5.2 0 0 0-1.55-3.38c-.46.17-.99.14-1.44-.12-.46-.26-.74-.71-.82-1.19-.45-.12-.91-.19-1.4-.19-.83 0-1.61.19-2.31.54l.84 1.5c.44-.21.94-.32 1.47-.32M8.37 12c0-1.19.59-2.24 1.49-2.87L9 7.65a5.22 5.22 0 0 0-2.17 3.04c.38.31.62.78.62 1.31s-.24 1-.62 1.31A5.2 5.2 0 0 0 9 16.34l.86-1.47c-.9-.63-1.49-1.68-1.49-2.87m5.97 4.26c-.57.33-.77 1.06-.44 1.64.33.57 1.07.77 1.64.44.58-.34.77-1.07.46-1.64-.35-.58-1.08-.77-1.66-.44M5.76 10.8c-.66 0-1.2.54-1.2 1.2s.54 1.2 1.2 1.2c.67 0 1.2-.54 1.2-1.2s-.53-1.2-1.2-1.2"/></svg></span> standard</label><label for="__tabbed_4_3"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21.81 10.25c-.06-.04-.56-.43-1.64-.43-.28 0-.56.03-.84.08-.21-1.4-1.38-2.11-1.43-2.14l-.29-.17-.18.27c-.24.36-.43.77-.51 1.19-.2.8-.08 1.56.33 2.21-.49.28-1.29.35-1.46.35H2.62c-.34 0-.62.28-.62.63 0 1.15.18 2.3.58 3.38.45 1.19 1.13 2.07 2 2.61.98.6 2.59.94 4.42.94.79 0 1.61-.07 2.42-.22 1.12-.2 2.2-.59 3.19-1.16A8.3 8.3 0 0 0 16.78 16c1.05-1.17 1.67-2.5 2.12-3.65h.19c1.14 0 1.85-.46 2.24-.85.26-.24.45-.53.59-.87l.08-.24zm-17.96.99h1.76c.08 0 .16-.07.16-.16V9.5c0-.08-.07-.16-.16-.16H3.85c-.09 0-.16.07-.16.16v1.58c.01.09.07.16.16.16m2.43 0h1.76c.08 0 .16-.07.16-.16V9.5c0-.08-.07-.16-.16-.16H6.28c-.09 0-.16.07-.16.16v1.58c.01.09.07.16.16.16m2.47 0h1.75c.1 0 .17-.07.17-.16V9.5c0-.08-.06-.16-.17-.16H8.75c-.08 0-.15.07-.15.16v1.58c0 .09.06.16.15.16m2.44 0h1.77c.08 0 .15-.07.15-.16V9.5c0-.08-.06-.16-.15-.16h-1.77c-.08 0-.15.07-.15.16v1.58c0 .09.07.16.15.16M6.28 9h1.76c.08 0 .16-.09.16-.18V7.25c0-.09-.07-.16-.16-.16H6.28c-.09 0-.16.06-.16.16v1.57c.01.09.07.18.16.18m2.47 0h1.75c.1 0 .17-.09.17-.18V7.25c0-.09-.06-.16-.17-.16H8.75c-.08 0-.15.06-.15.16v1.57c0 .09.06.18.15.18m2.44 0h1.77c.08 0 .15-.09.15-.18V7.25c0-.09-.07-.16-.15-.16h-1.77c-.08 0-.15.06-.15.16v1.57c0 .09.07.18.15.18m0-2.28h1.77c.08 0 .15-.07.15-.16V5c0-.1-.07-.17-.15-.17h-1.77c-.08 0-.15.06-.15.17v1.56c0 .08.07.16.15.16m2.46 4.52h1.76c.09 0 .16-.07.16-.16V9.5c0-.08-.07-.16-.16-.16h-1.76c-.08 0-.15.07-.15.16v1.58c0 .09.07.16.15.16"/></svg></span> docker</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<ul>
<li>Status: <code>systemctl status --full daphne.service</code></li>
<li>Stop: <code>systemctl stop daphne.service</code></li>
<li>Start: <code>systemctl start daphne.service</code></li>
<li>Restart: <code>systemctl restart daphne.service</code></li>
<li>journalctl (this provides only system start/stop logs, not the actual logs):<ul>
<li>"tail" the logs: <code>journalctl --identifier daphne --follow</code></li>
<li>View the logs: <code>journalctl --identifier daphne --since "30 minutes ago" | less</code></li>
</ul>
</li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li>Service: <code>daphne.service</code></li>
<li>Socket: <code>/rmm/daphne.sock</code></li>
<li>Exec: <code>/rmm/api/env/bin/daphne -u /rmm/daphne.sock tacticalrmm.asgi:application</code></li>
<li>Config: <code>/rmm/api/tacticalrmm/tacticalrmm/local_settings.py</code></li>
<li>Log: <code>/rmm/api/tacticalrmm/tacticalrmm/private/log/trmm_debug.log</code></li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li>From the docker host view container status - <code>docker ps --filter "name=trmm-websockets"</code></li>
<li>View logs: <code>docker compose logs tactical-websockets</code></li>
<li>"tail" logs: <code>docker compose logs tactical-websockets | tail</code></li>
<li>Shell access: <code>docker exec -it trmm-websockets /bin/bash</code></li>
</ul>
</div>
</div>
</div>
</details>
<h4 id="nats-server-service">NATS Server Service<a class="headerlink" href="#nats-server-service" title="Permanent link">&para;</a></h4>
<p><a href="https://nats.io/">NATS</a> is a messaging bus for "live" communication between the agent and server. NATS provides the framework for the server to push commands to the agent and receive information back.</p>
<details class="note" open="open">
<summary>NATS config</summary>
<ul>
<li><a href="https://docs.nats.io/running-a-nats-service/configuration">NATS server configuration docs</a></li>
</ul>
<div class="tabbed-set tabbed-alternate" data-tabs="5:3"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><input id="__tabbed_5_3" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 19v-3h8v3zm-4.5-6L2.47 7h4.24l4.96 4.95c.58.59.58 1.55 0 2.12L6.74 19H2.5z"/></svg></span> status commands</label><label for="__tabbed_5_2"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 12a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-7.66-4.26c.58.33 1.31.13 1.66-.44.31-.57.12-1.3-.46-1.64-.57-.33-1.31-.16-1.64.44-.33.57-.13 1.31.44 1.64m-2.46 7.76c-.53 0-1.03-.11-1.47-.32l-.84 1.5c.7.32 1.48.54 2.31.54.49 0 .95-.07 1.4-.19.08-.49.36-.93.82-1.19.46-.27.98-.29 1.44-.12.89-.87 1.46-2.06 1.55-3.39l-1.71-.02a3.506 3.506 0 0 1-3.5 3.19m0-7c1.84 0 3.34 1.39 3.5 3.19l1.71-.03a5.2 5.2 0 0 0-1.55-3.38c-.46.17-.99.14-1.44-.12-.46-.26-.74-.71-.82-1.19-.45-.12-.91-.19-1.4-.19-.83 0-1.61.19-2.31.54l.84 1.5c.44-.21.94-.32 1.47-.32M8.37 12c0-1.19.59-2.24 1.49-2.87L9 7.65a5.22 5.22 0 0 0-2.17 3.04c.38.31.62.78.62 1.31s-.24 1-.62 1.31A5.2 5.2 0 0 0 9 16.34l.86-1.47c-.9-.63-1.49-1.68-1.49-2.87m5.97 4.26c-.57.33-.77 1.06-.44 1.64.33.57 1.07.77 1.64.44.58-.34.77-1.07.46-1.64-.35-.58-1.08-.77-1.66-.44M5.76 10.8c-.66 0-1.2.54-1.2 1.2s.54 1.2 1.2 1.2c.67 0 1.2-.54 1.2-1.2s-.53-1.2-1.2-1.2"/></svg></span> standard</label><label for="__tabbed_5_3"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21.81 10.25c-.06-.04-.56-.43-1.64-.43-.28 0-.56.03-.84.08-.21-1.4-1.38-2.11-1.43-2.14l-.29-.17-.18.27c-.24.36-.43.77-.51 1.19-.2.8-.08 1.56.33 2.21-.49.28-1.29.35-1.46.35H2.62c-.34 0-.62.28-.62.63 0 1.15.18 2.3.58 3.38.45 1.19 1.13 2.07 2 2.61.98.6 2.59.94 4.42.94.79 0 1.61-.07 2.42-.22 1.12-.2 2.2-.59 3.19-1.16A8.3 8.3 0 0 0 16.78 16c1.05-1.17 1.67-2.5 2.12-3.65h.19c1.14 0 1.85-.46 2.24-.85.26-.24.45-.53.59-.87l.08-.24zm-17.96.99h1.76c.08 0 .16-.07.16-.16V9.5c0-.08-.07-.16-.16-.16H3.85c-.09 0-.16.07-.16.16v1.58c.01.09.07.16.16.16m2.43 0h1.76c.08 0 .16-.07.16-.16V9.5c0-.08-.07-.16-.16-.16H6.28c-.09 0-.16.07-.16.16v1.58c.01.09.07.16.16.16m2.47 0h1.75c.1 0 .17-.07.17-.16V9.5c0-.08-.06-.16-.17-.16H8.75c-.08 0-.15.07-.15.16v1.58c0 .09.06.16.15.16m2.44 0h1.77c.08 0 .15-.07.15-.16V9.5c0-.08-.06-.16-.15-.16h-1.77c-.08 0-.15.07-.15.16v1.58c0 .09.07.16.15.16M6.28 9h1.76c.08 0 .16-.09.16-.18V7.25c0-.09-.07-.16-.16-.16H6.28c-.09 0-.16.06-.16.16v1.57c.01.09.07.18.16.18m2.47 0h1.75c.1 0 .17-.09.17-.18V7.25c0-.09-.06-.16-.17-.16H8.75c-.08 0-.15.06-.15.16v1.57c0 .09.06.18.15.18m2.44 0h1.77c.08 0 .15-.09.15-.18V7.25c0-.09-.07-.16-.15-.16h-1.77c-.08 0-.15.06-.15.16v1.57c0 .09.07.18.15.18m0-2.28h1.77c.08 0 .15-.07.15-.16V5c0-.1-.07-.17-.15-.17h-1.77c-.08 0-.15.06-.15.17v1.56c0 .08.07.16.15.16m2.46 4.52h1.76c.09 0 .16-.07.16-.16V9.5c0-.08-.07-.16-.16-.16h-1.76c-.08 0-.15.07-.15.16v1.58c0 .09.07.16.15.16"/></svg></span> docker</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<ul>
<li>Status: <code>systemctl status --full nats.service</code></li>
<li>Stop: <code>systemctl stop nats.service</code></li>
<li>Start: <code>systemctl start nats.service</code></li>
<li>Restart: <code>systemctl restart nats.service</code></li>
<li>Reload: <code>systemctl reload nats.service</code> reloads the config without restarting</li>
<li>journalctl:<ul>
<li>"tail" the logs: <code>journalctl --identifier nats-server --follow</code></li>
<li>View the logs: <code>journalctl --identifier nats-server --since "30 minutes ago" | less</code></li>
</ul>
</li>
<li>Listening process: <code>ss -tulnp | grep nats-server</code></li>
<li>Checking for NATS or websocket problems <code>sudo journalctl --no-pager -u nats</code> and <code>sudo journalctl --no-pager -u nats-api</code></li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li>Service: <code>nats.service</code></li>
<li>Address: <code>0.0.0.0</code></li>
<li>Port: <code>4222 (standard), 9235 (websocket)</code></li>
<li>Exec: <code>/usr/local/bin/nats-server --config /rmm/api/tacticalrmm/nats-rmm.conf</code></li>
<li>Config: <code>/rmm/api/tacticalrmm/nats-rmm.conf</code><ul>
<li>TLS: <code>/etc/letsencrypt/live/example.com/fullchain.pem</code></li>
</ul>
</li>
<li>Log: None</li>
<li>Version: v2.3.3</li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li>Get into bash in your docker with: <code>docker exec -it trmm-nats /bin/bash</code></li>
<li>Log: <code>nats-api -log debug</code></li>
<li>Shell access: <code>docker exec -it trmm-nats /bin/bash</code></li>
</ul>
</div>
</div>
</div>
</details>
<h4 id="nats-api-service">NATS API Service<a class="headerlink" href="#nats-api-service" title="Permanent link">&para;</a></h4>
<details class="note" open="open">
<summary>NATS API config</summary>
<div class="tabbed-set tabbed-alternate" data-tabs="6:3"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><input id="__tabbed_6_2" name="__tabbed_6" type="radio" /><input id="__tabbed_6_3" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="__tabbed_6_1"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 19v-3h8v3zm-4.5-6L2.47 7h4.24l4.96 4.95c.58.59.58 1.55 0 2.12L6.74 19H2.5z"/></svg></span> status commands</label><label for="__tabbed_6_2"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 12a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-7.66-4.26c.58.33 1.31.13 1.66-.44.31-.57.12-1.3-.46-1.64-.57-.33-1.31-.16-1.64.44-.33.57-.13 1.31.44 1.64m-2.46 7.76c-.53 0-1.03-.11-1.47-.32l-.84 1.5c.7.32 1.48.54 2.31.54.49 0 .95-.07 1.4-.19.08-.49.36-.93.82-1.19.46-.27.98-.29 1.44-.12.89-.87 1.46-2.06 1.55-3.39l-1.71-.02a3.506 3.506 0 0 1-3.5 3.19m0-7c1.84 0 3.34 1.39 3.5 3.19l1.71-.03a5.2 5.2 0 0 0-1.55-3.38c-.46.17-.99.14-1.44-.12-.46-.26-.74-.71-.82-1.19-.45-.12-.91-.19-1.4-.19-.83 0-1.61.19-2.31.54l.84 1.5c.44-.21.94-.32 1.47-.32M8.37 12c0-1.19.59-2.24 1.49-2.87L9 7.65a5.22 5.22 0 0 0-2.17 3.04c.38.31.62.78.62 1.31s-.24 1-.62 1.31A5.2 5.2 0 0 0 9 16.34l.86-1.47c-.9-.63-1.49-1.68-1.49-2.87m5.97 4.26c-.57.33-.77 1.06-.44 1.64.33.57 1.07.77 1.64.44.58-.34.77-1.07.46-1.64-.35-.58-1.08-.77-1.66-.44M5.76 10.8c-.66 0-1.2.54-1.2 1.2s.54 1.2 1.2 1.2c.67 0 1.2-.54 1.2-1.2s-.53-1.2-1.2-1.2"/></svg></span> standard</label><label for="__tabbed_6_3"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21.81 10.25c-.06-.04-.56-.43-1.64-.43-.28 0-.56.03-.84.08-.21-1.4-1.38-2.11-1.43-2.14l-.29-.17-.18.27c-.24.36-.43.77-.51 1.19-.2.8-.08 1.56.33 2.21-.49.28-1.29.35-1.46.35H2.62c-.34 0-.62.28-.62.63 0 1.15.18 2.3.58 3.38.45 1.19 1.13 2.07 2 2.61.98.6 2.59.94 4.42.94.79 0 1.61-.07 2.42-.22 1.12-.2 2.2-.59 3.19-1.16A8.3 8.3 0 0 0 16.78 16c1.05-1.17 1.67-2.5 2.12-3.65h.19c1.14 0 1.85-.46 2.24-.85.26-.24.45-.53.59-.87l.08-.24zm-17.96.99h1.76c.08 0 .16-.07.16-.16V9.5c0-.08-.07-.16-.16-.16H3.85c-.09 0-.16.07-.16.16v1.58c.01.09.07.16.16.16m2.43 0h1.76c.08 0 .16-.07.16-.16V9.5c0-.08-.07-.16-.16-.16H6.28c-.09 0-.16.07-.16.16v1.58c.01.09.07.16.16.16m2.47 0h1.75c.1 0 .17-.07.17-.16V9.5c0-.08-.06-.16-.17-.16H8.75c-.08 0-.15.07-.15.16v1.58c0 .09.06.16.15.16m2.44 0h1.77c.08 0 .15-.07.15-.16V9.5c0-.08-.06-.16-.15-.16h-1.77c-.08 0-.15.07-.15.16v1.58c0 .09.07.16.15.16M6.28 9h1.76c.08 0 .16-.09.16-.18V7.25c0-.09-.07-.16-.16-.16H6.28c-.09 0-.16.06-.16.16v1.57c.01.09.07.18.16.18m2.47 0h1.75c.1 0 .17-.09.17-.18V7.25c0-.09-.06-.16-.17-.16H8.75c-.08 0-.15.06-.15.16v1.57c0 .09.06.18.15.18m2.44 0h1.77c.08 0 .15-.09.15-.18V7.25c0-.09-.07-.16-.15-.16h-1.77c-.08 0-.15.06-.15.16v1.57c0 .09.07.18.15.18m0-2.28h1.77c.08 0 .15-.07.15-.16V5c0-.1-.07-.17-.15-.17h-1.77c-.08 0-.15.06-.15.17v1.56c0 .08.07.16.15.16m2.46 4.52h1.76c.09 0 .16-.07.16-.16V9.5c0-.08-.07-.16-.16-.16h-1.76c-.08 0-.15.07-.15.16v1.58c0 .09.07.16.15.16"/></svg></span> docker</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<ul>
<li>Status: <code>systemctl status --full nats-api.service</code></li>
<li>Stop: <code>systemctl stop nats-api.service</code></li>
<li>Start: <code>systemctl start nats-api.service</code></li>
<li>Restart: <code>systemctl restart nats-api.service</code></li>
<li>journalctl: This application does not appear to log anything.</li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li>Service: <code>nats-api.service</code></li>
<li>Exec: <code>/usr/local/bin/nats-api --config /rmm/api/tacticalrmm/nats-api.conf</code></li>
<li>Config: <code>/rmm/api/tacticalrmm/nats-api.conf</code><ul>
<li>TLS: <code>/etc/letsencrypt/live/example.com/fullchain.pem</code></li>
</ul>
</li>
<li>Log: None</li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li>Get into bash in your docker with: <code>docker exec -it trmm-nats /bin/bash</code></li>
<li>Log: <code>nats-api -log debug</code></li>
</ul>
</div>
</div>
</div>
</details>
<h4 id="celery-service">Celery Service<a class="headerlink" href="#celery-service" title="Permanent link">&para;</a></h4>
<p><a href="https://github.com/celery/celery">Celery</a> is a task queue focused on real-time processing and is responsible for scheduling tasks to be sent to agents.</p>
<p>Log located at <code>/var/log/celery</code></p>
<details class="note" open="open">
<summary>Celery config</summary>
<ul>
<li><a href="https://docs.celeryproject.org/en/stable/index.html">Celery docs</a></li>
<li><a href="https://docs.celeryproject.org/en/stable/userguide/configuration.html">Celery configuration docs</a></li>
</ul>
<div class="tabbed-set tabbed-alternate" data-tabs="7:3"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio" /><input id="__tabbed_7_2" name="__tabbed_7" type="radio" /><input id="__tabbed_7_3" name="__tabbed_7" type="radio" /><div class="tabbed-labels"><label for="__tabbed_7_1"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 19v-3h8v3zm-4.5-6L2.47 7h4.24l4.96 4.95c.58.59.58 1.55 0 2.12L6.74 19H2.5z"/></svg></span> status commands</label><label for="__tabbed_7_2"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 12a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-7.66-4.26c.58.33 1.31.13 1.66-.44.31-.57.12-1.3-.46-1.64-.57-.33-1.31-.16-1.64.44-.33.57-.13 1.31.44 1.64m-2.46 7.76c-.53 0-1.03-.11-1.47-.32l-.84 1.5c.7.32 1.48.54 2.31.54.49 0 .95-.07 1.4-.19.08-.49.36-.93.82-1.19.46-.27.98-.29 1.44-.12.89-.87 1.46-2.06 1.55-3.39l-1.71-.02a3.506 3.506 0 0 1-3.5 3.19m0-7c1.84 0 3.34 1.39 3.5 3.19l1.71-.03a5.2 5.2 0 0 0-1.55-3.38c-.46.17-.99.14-1.44-.12-.46-.26-.74-.71-.82-1.19-.45-.12-.91-.19-1.4-.19-.83 0-1.61.19-2.31.54l.84 1.5c.44-.21.94-.32 1.47-.32M8.37 12c0-1.19.59-2.24 1.49-2.87L9 7.65a5.22 5.22 0 0 0-2.17 3.04c.38.31.62.78.62 1.31s-.24 1-.62 1.31A5.2 5.2 0 0 0 9 16.34l.86-1.47c-.9-.63-1.49-1.68-1.49-2.87m5.97 4.26c-.57.33-.77 1.06-.44 1.64.33.57 1.07.77 1.64.44.58-.34.77-1.07.46-1.64-.35-.58-1.08-.77-1.66-.44M5.76 10.8c-.66 0-1.2.54-1.2 1.2s.54 1.2 1.2 1.2c.67 0 1.2-.54 1.2-1.2s-.53-1.2-1.2-1.2"/></svg></span> standard</label><label for="__tabbed_7_3"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21.81 10.25c-.06-.04-.56-.43-1.64-.43-.28 0-.56.03-.84.08-.21-1.4-1.38-2.11-1.43-2.14l-.29-.17-.18.27c-.24.36-.43.77-.51 1.19-.2.8-.08 1.56.33 2.21-.49.28-1.29.35-1.46.35H2.62c-.34 0-.62.28-.62.63 0 1.15.18 2.3.58 3.38.45 1.19 1.13 2.07 2 2.61.98.6 2.59.94 4.42.94.79 0 1.61-.07 2.42-.22 1.12-.2 2.2-.59 3.19-1.16A8.3 8.3 0 0 0 16.78 16c1.05-1.17 1.67-2.5 2.12-3.65h.19c1.14 0 1.85-.46 2.24-.85.26-.24.45-.53.59-.87l.08-.24zm-17.96.99h1.76c.08 0 .16-.07.16-.16V9.5c0-.08-.07-.16-.16-.16H3.85c-.09 0-.16.07-.16.16v1.58c.01.09.07.16.16.16m2.43 0h1.76c.08 0 .16-.07.16-.16V9.5c0-.08-.07-.16-.16-.16H6.28c-.09 0-.16.07-.16.16v1.58c.01.09.07.16.16.16m2.47 0h1.75c.1 0 .17-.07.17-.16V9.5c0-.08-.06-.16-.17-.16H8.75c-.08 0-.15.07-.15.16v1.58c0 .09.06.16.15.16m2.44 0h1.77c.08 0 .15-.07.15-.16V9.5c0-.08-.06-.16-.15-.16h-1.77c-.08 0-.15.07-.15.16v1.58c0 .09.07.16.15.16M6.28 9h1.76c.08 0 .16-.09.16-.18V7.25c0-.09-.07-.16-.16-.16H6.28c-.09 0-.16.06-.16.16v1.57c.01.09.07.18.16.18m2.47 0h1.75c.1 0 .17-.09.17-.18V7.25c0-.09-.06-.16-.17-.16H8.75c-.08 0-.15.06-.15.16v1.57c0 .09.06.18.15.18m2.44 0h1.77c.08 0 .15-.09.15-.18V7.25c0-.09-.07-.16-.15-.16h-1.77c-.08 0-.15.06-.15.16v1.57c0 .09.07.18.15.18m0-2.28h1.77c.08 0 .15-.07.15-.16V5c0-.1-.07-.17-.15-.17h-1.77c-.08 0-.15.06-.15.17v1.56c0 .08.07.16.15.16m2.46 4.52h1.76c.09 0 .16-.07.16-.16V9.5c0-.08-.07-.16-.16-.16h-1.76c-.08 0-.15.07-.15.16v1.58c0 .09.07.16.15.16"/></svg></span> docker</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<ul>
<li>Status: <code>systemctl status --full celery.service</code></li>
<li>Stop: <code>systemctl stop celery.service</code></li>
<li>Start: <code>systemctl start celery.service</code></li>
<li>Restart: <code>systemctl restart celery.service</code></li>
<li>journalctl: Celery executes <code>sh</code> causing the systemd identifier to be <code>sh</code>, thus mixing the <code>celery</code> and <code>celerybeat</code> logs together.<ul>
<li>"tail" the logs: <code>journalctl --identifier sh --follow</code></li>
<li>View the logs: <code>journalctl --identifier sh --since "30 minutes ago" | less</code></li>
</ul>
</li>
<li>Tail logs: <code>tail -F /var/log/celery/w*-*.log</code></li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li>Service: <code>celery.service</code></li>
<li>Exec: <code>/bin/sh -c '${CELERY_BIN} -A $CELERY_APP multi start $CELERYD_NODES --pidfile=${CELERYD_PID_FILE} --logfile=${CELERYD_LOG_FILE} --loglevel="${CELERYD_LOG_LEVEL}" $CELERYD_OPTS'</code></li>
<li>Config: <code>/etc/conf.d/celery.conf</code></li>
<li>Log: <code>/var/log/celery/w*-*.log</code></li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li>From the docker host view container status - <code>docker ps --filter "name=trmm-celery"</code></li>
<li>View logs: <code>docker compose logs tactical-celery</code></li>
<li>"tail" logs: <code>docker compose logs tactical-celery | tail</code></li>
<li>Shell access: <code>docker exec -it trmm-celery /bin/bash</code></li>
</ul>
</div>
</div>
</div>
</details>
<h4 id="celery-beat-service">Celery Beat Service<a class="headerlink" href="#celery-beat-service" title="Permanent link">&para;</a></h4>
<p><a href="https://github.com/celery/django-celery-beat">Celery Beat</a> is a scheduler. It kicks off tasks at regular intervals, that are then executed by available worker nodes in the cluster.</p>
<details class="note" open="open">
<summary>Celery Beat config</summary>
<ul>
<li><a href="https://docs.celeryproject.org/en/stable/userguide/periodic-tasks.html">Celery beat docs</a></li>
</ul>
<div class="tabbed-set tabbed-alternate" data-tabs="8:3"><input checked="checked" id="__tabbed_8_1" name="__tabbed_8" type="radio" /><input id="__tabbed_8_2" name="__tabbed_8" type="radio" /><input id="__tabbed_8_3" name="__tabbed_8" type="radio" /><div class="tabbed-labels"><label for="__tabbed_8_1"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 19v-3h8v3zm-4.5-6L2.47 7h4.24l4.96 4.95c.58.59.58 1.55 0 2.12L6.74 19H2.5z"/></svg></span> status commands</label><label for="__tabbed_8_2"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 12a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-7.66-4.26c.58.33 1.31.13 1.66-.44.31-.57.12-1.3-.46-1.64-.57-.33-1.31-.16-1.64.44-.33.57-.13 1.31.44 1.64m-2.46 7.76c-.53 0-1.03-.11-1.47-.32l-.84 1.5c.7.32 1.48.54 2.31.54.49 0 .95-.07 1.4-.19.08-.49.36-.93.82-1.19.46-.27.98-.29 1.44-.12.89-.87 1.46-2.06 1.55-3.39l-1.71-.02a3.506 3.506 0 0 1-3.5 3.19m0-7c1.84 0 3.34 1.39 3.5 3.19l1.71-.03a5.2 5.2 0 0 0-1.55-3.38c-.46.17-.99.14-1.44-.12-.46-.26-.74-.71-.82-1.19-.45-.12-.91-.19-1.4-.19-.83 0-1.61.19-2.31.54l.84 1.5c.44-.21.94-.32 1.47-.32M8.37 12c0-1.19.59-2.24 1.49-2.87L9 7.65a5.22 5.22 0 0 0-2.17 3.04c.38.31.62.78.62 1.31s-.24 1-.62 1.31A5.2 5.2 0 0 0 9 16.34l.86-1.47c-.9-.63-1.49-1.68-1.49-2.87m5.97 4.26c-.57.33-.77 1.06-.44 1.64.33.57 1.07.77 1.64.44.58-.34.77-1.07.46-1.64-.35-.58-1.08-.77-1.66-.44M5.76 10.8c-.66 0-1.2.54-1.2 1.2s.54 1.2 1.2 1.2c.67 0 1.2-.54 1.2-1.2s-.53-1.2-1.2-1.2"/></svg></span> standard</label><label for="__tabbed_8_3"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21.81 10.25c-.06-.04-.56-.43-1.64-.43-.28 0-.56.03-.84.08-.21-1.4-1.38-2.11-1.43-2.14l-.29-.17-.18.27c-.24.36-.43.77-.51 1.19-.2.8-.08 1.56.33 2.21-.49.28-1.29.35-1.46.35H2.62c-.34 0-.62.28-.62.63 0 1.15.18 2.3.58 3.38.45 1.19 1.13 2.07 2 2.61.98.6 2.59.94 4.42.94.79 0 1.61-.07 2.42-.22 1.12-.2 2.2-.59 3.19-1.16A8.3 8.3 0 0 0 16.78 16c1.05-1.17 1.67-2.5 2.12-3.65h.19c1.14 0 1.85-.46 2.24-.85.26-.24.45-.53.59-.87l.08-.24zm-17.96.99h1.76c.08 0 .16-.07.16-.16V9.5c0-.08-.07-.16-.16-.16H3.85c-.09 0-.16.07-.16.16v1.58c.01.09.07.16.16.16m2.43 0h1.76c.08 0 .16-.07.16-.16V9.5c0-.08-.07-.16-.16-.16H6.28c-.09 0-.16.07-.16.16v1.58c.01.09.07.16.16.16m2.47 0h1.75c.1 0 .17-.07.17-.16V9.5c0-.08-.06-.16-.17-.16H8.75c-.08 0-.15.07-.15.16v1.58c0 .09.06.16.15.16m2.44 0h1.77c.08 0 .15-.07.15-.16V9.5c0-.08-.06-.16-.15-.16h-1.77c-.08 0-.15.07-.15.16v1.58c0 .09.07.16.15.16M6.28 9h1.76c.08 0 .16-.09.16-.18V7.25c0-.09-.07-.16-.16-.16H6.28c-.09 0-.16.06-.16.16v1.57c.01.09.07.18.16.18m2.47 0h1.75c.1 0 .17-.09.17-.18V7.25c0-.09-.06-.16-.17-.16H8.75c-.08 0-.15.06-.15.16v1.57c0 .09.06.18.15.18m2.44 0h1.77c.08 0 .15-.09.15-.18V7.25c0-.09-.07-.16-.15-.16h-1.77c-.08 0-.15.06-.15.16v1.57c0 .09.07.18.15.18m0-2.28h1.77c.08 0 .15-.07.15-.16V5c0-.1-.07-.17-.15-.17h-1.77c-.08 0-.15.06-.15.17v1.56c0 .08.07.16.15.16m2.46 4.52h1.76c.09 0 .16-.07.16-.16V9.5c0-.08-.07-.16-.16-.16h-1.76c-.08 0-.15.07-.15.16v1.58c0 .09.07.16.15.16"/></svg></span> docker</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<ul>
<li>Status: <code>systemctl status --full celerybeat.service</code></li>
<li>Stop: <code>systemctl stop celerybeat.service</code></li>
<li>Start: <code>systemctl start celerybeat.service</code></li>
<li>Restart: <code>systemctl restart celerybeat.service</code></li>
<li>journalctl: Celery executes <code>sh</code> causing the systemd identifier to be <code>sh</code>, thus mixing the <code>celery</code> and <code>celerybeat</code> logs together.<ul>
<li>"tail" the logs: <code>journalctl --identifier sh --follow</code></li>
<li>View the logs: <code>journalctl --identifier sh --since "30 minutes ago" | less</code></li>
</ul>
</li>
<li>Tail logs: <code>tail -F /var/log/celery/beat.log</code></li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li>Service: <code>celerybeat.service</code></li>
<li>Exec: <code>/bin/sh -c '${CELERY_BIN} -A ${CELERY_APP} beat --pidfile=${CELERYBEAT_PID_FILE} --logfile=${CELERYBEAT_LOG_FILE} --loglevel=${CELERYD_LOG_LEVEL}'</code></li>
<li>Config: <code>/etc/redis/redis.conf</code></li>
<li>Log: <code>/var/log/celery/beat.log</code></li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li>From the docker host view container status - <code>docker ps --filter "name=trmm-celerybeat"</code></li>
<li>View logs: <code>docker compose logs tactical-celerybeat</code></li>
<li>"tail" logs: <code>docker compose logs tactical-celerybeat | tail</code></li>
<li>Shell access: <code>docker exec -it trmm-celerybeat /bin/bash</code></li>
</ul>
</div>
</div>
</div>
</details>
<h4 id="redis-service">Redis Service<a class="headerlink" href="#redis-service" title="Permanent link">&para;</a></h4>
<p><a href="https://github.com/redis/redis">Redis</a> is an in-memory data structure store used as a database, cache, and message broker for Django / Celery.</p>
<p>Log located at <code>/var/log/redis</code></p>
<details class="note" open="open">
<summary>Redis config</summary>
<ul>
<li><a href="https://redis.io/">Redis docs</a></li>
</ul>
<div class="tabbed-set tabbed-alternate" data-tabs="9:3"><input checked="checked" id="__tabbed_9_1" name="__tabbed_9" type="radio" /><input id="__tabbed_9_2" name="__tabbed_9" type="radio" /><input id="__tabbed_9_3" name="__tabbed_9" type="radio" /><div class="tabbed-labels"><label for="__tabbed_9_1"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 19v-3h8v3zm-4.5-6L2.47 7h4.24l4.96 4.95c.58.59.58 1.55 0 2.12L6.74 19H2.5z"/></svg></span> status commands</label><label for="__tabbed_9_2"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 12a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-7.66-4.26c.58.33 1.31.13 1.66-.44.31-.57.12-1.3-.46-1.64-.57-.33-1.31-.16-1.64.44-.33.57-.13 1.31.44 1.64m-2.46 7.76c-.53 0-1.03-.11-1.47-.32l-.84 1.5c.7.32 1.48.54 2.31.54.49 0 .95-.07 1.4-.19.08-.49.36-.93.82-1.19.46-.27.98-.29 1.44-.12.89-.87 1.46-2.06 1.55-3.39l-1.71-.02a3.506 3.506 0 0 1-3.5 3.19m0-7c1.84 0 3.34 1.39 3.5 3.19l1.71-.03a5.2 5.2 0 0 0-1.55-3.38c-.46.17-.99.14-1.44-.12-.46-.26-.74-.71-.82-1.19-.45-.12-.91-.19-1.4-.19-.83 0-1.61.19-2.31.54l.84 1.5c.44-.21.94-.32 1.47-.32M8.37 12c0-1.19.59-2.24 1.49-2.87L9 7.65a5.22 5.22 0 0 0-2.17 3.04c.38.31.62.78.62 1.31s-.24 1-.62 1.31A5.2 5.2 0 0 0 9 16.34l.86-1.47c-.9-.63-1.49-1.68-1.49-2.87m5.97 4.26c-.57.33-.77 1.06-.44 1.64.33.57 1.07.77 1.64.44.58-.34.77-1.07.46-1.64-.35-.58-1.08-.77-1.66-.44M5.76 10.8c-.66 0-1.2.54-1.2 1.2s.54 1.2 1.2 1.2c.67 0 1.2-.54 1.2-1.2s-.53-1.2-1.2-1.2"/></svg></span> standard</label><label for="__tabbed_9_3"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21.81 10.25c-.06-.04-.56-.43-1.64-.43-.28 0-.56.03-.84.08-.21-1.4-1.38-2.11-1.43-2.14l-.29-.17-.18.27c-.24.36-.43.77-.51 1.19-.2.8-.08 1.56.33 2.21-.49.28-1.29.35-1.46.35H2.62c-.34 0-.62.28-.62.63 0 1.15.18 2.3.58 3.38.45 1.19 1.13 2.07 2 2.61.98.6 2.59.94 4.42.94.79 0 1.61-.07 2.42-.22 1.12-.2 2.2-.59 3.19-1.16A8.3 8.3 0 0 0 16.78 16c1.05-1.17 1.67-2.5 2.12-3.65h.19c1.14 0 1.85-.46 2.24-.85.26-.24.45-.53.59-.87l.08-.24zm-17.96.99h1.76c.08 0 .16-.07.16-.16V9.5c0-.08-.07-.16-.16-.16H3.85c-.09 0-.16.07-.16.16v1.58c.01.09.07.16.16.16m2.43 0h1.76c.08 0 .16-.07.16-.16V9.5c0-.08-.07-.16-.16-.16H6.28c-.09 0-.16.07-.16.16v1.58c.01.09.07.16.16.16m2.47 0h1.75c.1 0 .17-.07.17-.16V9.5c0-.08-.06-.16-.17-.16H8.75c-.08 0-.15.07-.15.16v1.58c0 .09.06.16.15.16m2.44 0h1.77c.08 0 .15-.07.15-.16V9.5c0-.08-.06-.16-.15-.16h-1.77c-.08 0-.15.07-.15.16v1.58c0 .09.07.16.15.16M6.28 9h1.76c.08 0 .16-.09.16-.18V7.25c0-.09-.07-.16-.16-.16H6.28c-.09 0-.16.06-.16.16v1.57c.01.09.07.18.16.18m2.47 0h1.75c.1 0 .17-.09.17-.18V7.25c0-.09-.06-.16-.17-.16H8.75c-.08 0-.15.06-.15.16v1.57c0 .09.06.18.15.18m2.44 0h1.77c.08 0 .15-.09.15-.18V7.25c0-.09-.07-.16-.15-.16h-1.77c-.08 0-.15.06-.15.16v1.57c0 .09.07.18.15.18m0-2.28h1.77c.08 0 .15-.07.15-.16V5c0-.1-.07-.17-.15-.17h-1.77c-.08 0-.15.06-.15.17v1.56c0 .08.07.16.15.16m2.46 4.52h1.76c.09 0 .16-.07.16-.16V9.5c0-.08-.07-.16-.16-.16h-1.76c-.08 0-.15.07-.15.16v1.58c0 .09.07.16.15.16"/></svg></span> docker</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<ul>
<li>Status: <code>systemctl status --full redis-server.service</code></li>
<li>Stop: <code>systemctl stop redis-server.service</code></li>
<li>Start: <code>systemctl start redis-server.service</code></li>
<li>Restart: <code>systemctl restart redis-server.service</code></li>
<li>Tail logs: <code>tail -F /var/log/redis/redis-server.log</code></li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li>Service: <code>redis-server.service</code></li>
<li>Log: <code>/var/log/redis/redis-server.log</code></li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li>From the docker host view container status - <code>docker ps --filter "name=trmm-redis"</code></li>
<li>View logs: <code>docker compose logs tactical-redis</code></li>
<li>"tail" logs: <code>docker compose logs tactical-redis | tail</code></li>
<li>Shell access: <code>docker exec -it trmm-redis /bin/bash</code></li>
</ul>
</div>
</div>
</div>
</details>
<h4 id="meshcentral">MeshCentral<a class="headerlink" href="#meshcentral" title="Permanent link">&para;</a></h4>
<p><a href="https://github.com/Ylianst/MeshCentral">MeshCentral</a> is used for "Take Control" (connecting to machine for remote access), and 2 screens of the "Remote Background" (Terminal, and File Browser).</p>
<p>Config file location:</p>
<div class="highlight"><pre><span></span><code>/meshcentral/meshcentral-data/config.json
</code></pre></div>
<p><a href="https://ylianst.github.io/MeshCentral/meshcentral/config/">Customize</a> with care.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Mesh usernames are <strong>CaSe sEnSiTive</strong>. Tactical will make sure it's all lower case to avoid sync problems.</p>
</div>
<details class="note" open="open">
<summary>MeshCentral</summary>
<ul>
<li><a href="https://ylianst.github.io/MeshCentral/">MeshCentral docs</a></li>
</ul>
<div class="tabbed-set tabbed-alternate" data-tabs="10:3"><input checked="checked" id="__tabbed_10_1" name="__tabbed_10" type="radio" /><input id="__tabbed_10_2" name="__tabbed_10" type="radio" /><input id="__tabbed_10_3" name="__tabbed_10" type="radio" /><div class="tabbed-labels"><label for="__tabbed_10_1"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 19v-3h8v3zm-4.5-6L2.47 7h4.24l4.96 4.95c.58.59.58 1.55 0 2.12L6.74 19H2.5z"/></svg></span> status commands</label><label for="__tabbed_10_2"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21.81 10.25c-.06-.04-.56-.43-1.64-.43-.28 0-.56.03-.84.08-.21-1.4-1.38-2.11-1.43-2.14l-.29-.17-.18.27c-.24.36-.43.77-.51 1.19-.2.8-.08 1.56.33 2.21-.49.28-1.29.35-1.46.35H2.62c-.34 0-.62.28-.62.63 0 1.15.18 2.3.58 3.38.45 1.19 1.13 2.07 2 2.61.98.6 2.59.94 4.42.94.79 0 1.61-.07 2.42-.22 1.12-.2 2.2-.59 3.19-1.16A8.3 8.3 0 0 0 16.78 16c1.05-1.17 1.67-2.5 2.12-3.65h.19c1.14 0 1.85-.46 2.24-.85.26-.24.45-.53.59-.87l.08-.24zm-17.96.99h1.76c.08 0 .16-.07.16-.16V9.5c0-.08-.07-.16-.16-.16H3.85c-.09 0-.16.07-.16.16v1.58c.01.09.07.16.16.16m2.43 0h1.76c.08 0 .16-.07.16-.16V9.5c0-.08-.07-.16-.16-.16H6.28c-.09 0-.16.07-.16.16v1.58c.01.09.07.16.16.16m2.47 0h1.75c.1 0 .17-.07.17-.16V9.5c0-.08-.06-.16-.17-.16H8.75c-.08 0-.15.07-.15.16v1.58c0 .09.06.16.15.16m2.44 0h1.77c.08 0 .15-.07.15-.16V9.5c0-.08-.06-.16-.15-.16h-1.77c-.08 0-.15.07-.15.16v1.58c0 .09.07.16.15.16M6.28 9h1.76c.08 0 .16-.09.16-.18V7.25c0-.09-.07-.16-.16-.16H6.28c-.09 0-.16.06-.16.16v1.57c.01.09.07.18.16.18m2.47 0h1.75c.1 0 .17-.09.17-.18V7.25c0-.09-.06-.16-.17-.16H8.75c-.08 0-.15.06-.15.16v1.57c0 .09.06.18.15.18m2.44 0h1.77c.08 0 .15-.09.15-.18V7.25c0-.09-.07-.16-.15-.16h-1.77c-.08 0-.15.06-.15.16v1.57c0 .09.07.18.15.18m0-2.28h1.77c.08 0 .15-.07.15-.16V5c0-.1-.07-.17-.15-.17h-1.77c-.08 0-.15.06-.15.17v1.56c0 .08.07.16.15.16m2.46 4.52h1.76c.09 0 .16-.07.16-.16V9.5c0-.08-.07-.16-.16-.16h-1.76c-.08 0-.15.07-.15.16v1.58c0 .09.07.16.15.16"/></svg></span> docker</label><label for="__tabbed_10_3"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h7v2H8v2h8v-2h-2v-2h7a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2M3 4h18v12H3M15 5l-3.5 3.5L15 12l1.4-1.4-2.1-2.1 2.1-2.1M9 8 7.6 9.4l2.1 2.1-2.1 2.1L9 15l3.5-3.5"/></svg></span> Debugging</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<ul>
<li>Status: <code>systemctl status --full meshcentral</code></li>
<li>Stop: <code>systemctl stop meshcentral</code></li>
<li>Start: <code>systemctl start meshcentral</code></li>
<li>Restart: <code>systemctl restart meshcentral</code></li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li>From the docker host view container status - <code>docker ps --filter "name=trmm-meshcentral"</code></li>
<li>View logs: <code>docker compose logs tactical-meshcentral</code></li>
<li>"tail" logs: <code>docker compose logs tactical-meshcentral | tail</code></li>
<li>Shell access: <code>docker exec -it trmm-meshcentral /bin/bash</code></li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li>Open either "Take Control" or "Remote Background" to get mesh login token.</li>
<li>Open https://mesh.example.com to open native mesh admin interface.</li>
<li>Left-side "My Server" &gt; Choose "Console" &gt; type <code>agentstats</code></li>
<li>To view detailed logging goto "Trace" &gt; click Tracing button and choose categories.</li>
</ul>
<p>If you run <code>sudo systemctl status --full --no-pager meshcentral</code> and you don't see <code>Active: active (running) since ...</code></p>
<p>You can manually run meshcentral using this command to see the full output with errors.</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>systemctl<span class="w"> </span>stop<span class="w"> </span>meshcentral
<span class="nb">cd</span><span class="w"> </span>/meshcentral/
/usr/bin/node<span class="w"> </span>node_modules/meshcentral
</code></pre></div>
</div>
</div>
</div>
</details>
<h4 id="meshcentral-agent">MeshCentral Agent<a class="headerlink" href="#meshcentral-agent" title="Permanent link">&para;</a></h4>
<p>Get Mesh Agent Version info with this command. Should match server version.</p>
<p><div class="highlight"><pre><span></span><code>&quot;C:\Program Files\Mesh Agent\MeshAgent.exe&quot; -info&quot;
</code></pre></div>
Compare the hash with the tags in the repo at <a href="https://github.com/Ylianst/MeshAgent/tags">https://github.com/Ylianst/MeshAgent/tags</a>.</p>
<p>Checks / tasks / agent data uses regular http to Nginx.</p>
<p>Agent status uses NATS websockets.</p>
<h3 id="other-dependencies">Other Dependencies<a class="headerlink" href="#other-dependencies" title="Permanent link">&para;</a></h3>
<p><a href="https://www.djangoproject.com/">Django</a> - Framework to enable the server to interact with browser.</p>
<details>
  <summary>Django dependencies</summary>

<div class="highlight"><pre><span></span><code>future==0.18.2
loguru==0.5.3
msgpack==1.0.2
packaging==20.9
psycopg2-binary==2.9.1
pycparser==2.20
pycryptodome==3.10.1
pyotp==2.6.0
pyparsing==2.4.7
pytz==2021.1
</code></pre></div>
</details>

<p><a href="https://pypi.org/project/qrcode/">qrcode</a> - Creating QR codes for 2FA.</p>
<details>
  <summary>qrcode dependencies</summary>

<div class="highlight"><pre><span></span><code>requests==2.25.1
six==1.16.0
sqlparse==0.4.1
</code></pre></div>
</details>

<p><a href="https://www.twilio.com/">Twilio</a> - Python SMS notification integration.</p>
<details>
  <summary>twilio dependencies</summary>

<div class="highlight"><pre><span></span><code>urllib3==1.26.5
uWSGI==2.0.19.1
validators==0.18.2
vine==5.0.0
websockets==9.1
zipp==3.4.1
</code></pre></div>
</details>

<h2 id="windows-agent">Windows Agent<a class="headerlink" href="#windows-agent" title="Permanent link">&para;</a></h2>
<p>Found in <code>%programfiles%\TacticalAgent</code></p>
<p>The Tactical RMM agent runs under the <code>SYSTEM</code> security context.</p>
<p>When scripts / checks execute, they are:</p>
<ol>
<li>Transferred from the server via NATS.</li>
<li>Saved to a randomly created file in <code>C:\ProgramData\TacticalRMM</code>.</li>
<li>Executed.</li>
<li>Return info is captured and returned to the server via NATS.</li>
<li>File in <code>C:\ProgramData\TacticalRMM</code> is removed automatically after execution / timeout.</li>
<li>Command Parameters for scripts stay in memory</li>
</ol>
<p>Also "Send Command" stay in memory as well.</p>
<p>Having said that...Windows logs all things PowerShell: <code>Event Viewer</code> &gt; <code>Microsoft</code> &gt; <code>Windows</code> &gt; <code>PowerShell</code> &gt; <code>Operational</code> Log so be careful with fancy API calls and auth token using agents for execution.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><strong>Remember:</strong> Auth tokens are Username/Password/2FA verification all rolled into a single chunk of text!</p>
</div>
<h3 id="runasuser-functionality">RunAsUser functionality<a class="headerlink" href="#runasuser-functionality" title="Permanent link">&para;</a></h3>
<p>Now that we know the agent runs under the <code>SYSTEM</code> security context and what that means, there is an option to "RunAsUser" (Windows only).</p>
<p>There are multiple things to understand and consider.</p>
<ol>
<li>TRMMs native "RunAsUser" is only supported on workstations and non-RDP/terminal services servers.</li>
<li>The user has to be logged in, if the computer is still sitting at the Login screen there will be no active user to discover, and fail. If you're using fast user switching, it is the active user that will be discovered and used.</li>
</ol>
<p>There are two ways to do RunAsUser with tactical in relation to scripting.</p>
<ol>
<li>The Tactical RMM "RunAsUser" checkbox associated with the script, and all code will be run under the actively logged in user only with their security permissions. The user access token that will be used is the <a href="https://learn.microsoft.com/en-us/windows/security/application-security/application-control/user-account-control/how-it-works">limited user access token</a>. You will not be able to do any admin level stuff because TRMM's RunAsUser doesn't have a UAC elevation capability to call and request a 2nd access token with admin privileges.</li>
<li>Using the PowerShell "RunAsUser" <a href="https://github.com/amidaware/community-scripts/blob/da4d615a781d218ed3bec66d56a1530bc7513e16/scripts/Win_RunAsUser_Example.ps1">3rd party module</a></li>
</ol>
<h3 id="outbound-firewall-rules_1">Outbound Firewall Rules<a class="headerlink" href="#outbound-firewall-rules_1" title="Permanent link">&para;</a></h3>
<p>If you have strict firewall rules these are the only outbound rules from the agent needed for all functionality:</p>
<ol>
<li>
<p>All agents have to be able to connect outbound to TRMM server on the 3 domain names on port 443.</p>
</li>
<li>
<p>The agent uses <code>https://icanhazip.tacticalrmm.io/</code> to get public IP info. If this site is down for whatever reason, the agent will fallback to <code>https://icanhazip.com</code> and then <code>https://ifconfig.co/ip</code></p>
</li>
</ol>
<h4 id="unsigned-agents">Unsigned Agents<a class="headerlink" href="#unsigned-agents" title="Permanent link">&para;</a></h4>
<p>Unsigned agents require access to: <code>https://github.com/amidaware/rmmagent/releases/*</code> for downloading / updating agents.</p>
<h4 id="signed-agents">Signed Agents<a class="headerlink" href="#signed-agents" title="Permanent link">&para;</a></h4>
<p>Signed agents require access to: <code>https://agents.tacticalrmm.com</code> for downloading / updating agents.</p>
<h3 id="agent-installation-process">Agent Installation Process<a class="headerlink" href="#agent-installation-process" title="Permanent link">&para;</a></h3>
<ul>
<li>Copies temp files to <code>C:\ProgramData\TacticalRMM</code> folder.</li>
<li>INNO setup installs app into <code>%ProgramFiles%\TacticalAgent\</code> folder.</li>
</ul>
<hr />
<h3 id="agent-update-process">Agent Update Process<a class="headerlink" href="#agent-update-process" title="Permanent link">&para;</a></h3>
<p>Downloads latest <code>tacticalagent-vx.x.x.exe</code> to <code>%PROGRAMDATA\TacticalRMM%</code>.</p>
<p>Executes the file (INNO setup exe).</p>
<p>Log file <code>C:\ProgramData\TacticalRMM\tacticalagent_update_vX.X.X.txt</code> is created.</p>
<hr />
<h3 id="tactical-agent-debugging">Tactical Agent Debugging<a class="headerlink" href="#tactical-agent-debugging" title="Permanent link">&para;</a></h3>
<p>Choose your method:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="11:4"><input checked="checked" id="__tabbed_11_1" name="__tabbed_11" type="radio" /><input id="__tabbed_11_2" name="__tabbed_11" type="radio" /><input id="__tabbed_11_3" name="__tabbed_11" type="radio" /><input id="__tabbed_11_4" name="__tabbed_11" type="radio" /><div class="tabbed-labels"><label for="__tabbed_11_1"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 19v-3h8v3zm-4.5-6L2.47 7h4.24l4.96 4.95c.58.59.58 1.55 0 2.12L6.74 19H2.5z"/></svg></span> Windows Automatically</label><label for="__tabbed_11_2"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 19v-3h8v3zm-4.5-6L2.47 7h4.24l4.96 4.95c.58.59.58 1.55 0 2.12L6.74 19H2.5z"/></svg></span> Windows Manually</label><label for="__tabbed_11_3"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m18.5 10.57-.2.37c.26-.78.11-1.63.15-2.37l-.07-.02c-.07-1.85-1.67-3.82-3.09-4.48-1.23-.57-3.12-.67-3.99-.24.12-.11.6-.15.45-.23-1.37.13-1.06.47-2.11.74-.29.28.86-.22.23.16-.56.13-.82-.12-1.65.74.07.12.53-.35.15.12-.79-.09-2.48 1.8-2.84 2.42l.19.04c-.31.77-.72 1.26-.77 1.72-.08 1.14-.45 3.21.08 3.85l-.06.53.23.45-.12.01c.58 1.83.62.04 1.39 1.94-.11-.04-.23-.08-.39-.32-.02.19.24.69.54 1.08l-.12.14c.16.31.32.38.43.49-.63-.35.57 1.13.7 1.32l.1-.17c-.02.24.17.56.53 1.01l.3-.01c.13.24.58.68.85.7l-.18.24c.69.2.33.29 1.18.59l-.17-.3c.43.37.56.7 1.17.98.85.3.96.18 1.82.43-.73 0-1.59 0-2.17-.22-3.96-1.07-7.56-5.72-7.32-10.5-.06-.97.1-2.18-.06-2.42.22-.74.48-1.64 1.01-2.71-.04-.07.09.21.36-.24.16-.36.29-.75.5-1.1l.1-.03c.11-.61 1.43-1.55 1.85-2.02v.18c.86-.81 2.4-1.35 3.26-1.73-.23.25.51-.03 1.04-.06l-.49.28c.63-.16.6.07 1.25-.03-.23.03-.5.1-.46.16.72.08.84-.22 1.51 0l-.05-.2c.94.34 1.13.28 2.14.82.36.01.4-.22.93 0 .1.16-.02.19.64.59.07-.03-.13-.22-.27-.37 1.3.71 2.75 2.22 3.18 3.84-.41-.74-.04.39-.18.33.18.49.33 1 .43 1.53-.12-.43-.39-1.48-.86-2.15-.03.43-.6-.3-.29.66.22.34.05-.35.34.25 0 .29.11.58.18.95-.1-.02-.22-.41-.3-.31.1.5.27.72.33.76-.03.08-.12-.08-.12.24.04.74.21.43.29.46-.09.37-.41.79-.25 1.42l-.2-.56c-.05.53.11.63-.13 1.28.18-.6.16-1.1-.01-.85.09.82-.65 1.45-.58 1.98l-.21-.29c-.57.83-.01.45-.4 1.06.14-.23-.07-.08.11-.36-.12.01-.55.53-.94.83-1.54 1.23-3.39 1.4-5.15.73h-.01c.01-.04 0-.09-.12-.17-1.51-1.15-2.4-2.13-2.11-4.41.25-.17.31-1.12.84-1.45.32-.71 1.28-1.36 2.31-1.38 1.05-.06 1.94.56 2.39 1.14-.82-.75-2.14-.98-3.28-.43-1.15.53-1.84 1.8-1.76 3.07.06-.07.1-.02.12-.18-.03 2.47 2.66 4.28 4.6 3.37l.03.05c.78-.22.68-.39 1.19-.75-.04.09-.34.3-.16.3.25-.06 1.03-.79 1.42-1.13.17-.38-.1-.23.15-.69l.3-.15c.17-.48.35-.75.35-1.32"/></svg></span> Linux</label><label for="__tabbed_11_4"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11"/></svg></span> Mac</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>If the Tactical agent is connecting to your server, you can use the Community scripts:</p>
<ul>
<li><code>TacticalRMM - TRMM Agent enable Debug Mode</code></li>
<li><code>TacticalRMM - TRMM Agent disable Debug Mode</code></li>
<li>and <code>TacticalRMM - Get Agent Logs</code></li>
</ul>
</div>
<div class="tabbed-block">
<p>Open CMD as admin on the problem computer and stop the agent services:</p>
<div class="highlight"><pre><span></span><code>net stop tacticalrmm
</code></pre></div>
<p>Run the tacticalrmm service manually with debug logging:</p>
<div class="highlight"><pre><span></span><code>&quot;C:\Program Files\TacticalAgent\tacticalrmm.exe&quot; -m rpc -log debug -logto stdout
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There's a Community script that will collect your agent log called <code>TacticalRMM - Get Agent Logs</code>.</p>
</div>
</div>
<div class="tabbed-block">
<p>As root user, edit:</p>
<div class="highlight"><pre><span></span><code>vi<span class="w"> </span>/etc/systemd/system/tacticalagent.service
</code></pre></div>
<p>Change</p>
<div class="highlight"><pre><span></span><code>ExecStart=/usr/local/bin/tacticalagent -m svc
</code></pre></div>
<p>to</p>
<div class="highlight"><pre><span></span><code>ExecStart=/usr/local/bin/tacticalagent -m svc -log debug
</code></pre></div>
<p>then</p>
<div class="highlight"><pre><span></span><code>systemctl daemon-reload
systemctl restart tacticalagent.service
</code></pre></div>
</div>
<div class="tabbed-block">
<p>In terminal window:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>launchtl<span class="w"> </span>list<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-e<span class="w"> </span>mesh<span class="w"> </span>-e<span class="w"> </span>tacticalagent
</code></pre></div>
</div>
</div>
</div>
<h4 id="mesh-agent-recovery">Mesh Agent Recovery<a class="headerlink" href="#mesh-agent-recovery" title="Permanent link">&para;</a></h4>
<p>Use Agents right click menu &gt; <code>Agent recovery</code> &gt; <code>Mesh Agent</code></p>
<h4 id="tactical-agent-recovery">Tactical Agent Recovery<a class="headerlink" href="#tactical-agent-recovery" title="Permanent link">&para;</a></h4>
<p>Use Agents right click menu &gt; <code>Agent recovery</code> &gt; <code>Tactical Agent</code></p>
<p><strong>...OR</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="12:2"><input checked="checked" id="__tabbed_12_1" name="__tabbed_12" type="radio" /><input id="__tabbed_12_2" name="__tabbed_12" type="radio" /><div class="tabbed-labels"><label for="__tabbed_12_1"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 19v-3h8v3zm-4.5-6L2.47 7h4.24l4.96 4.95c.58.59.58 1.55 0 2.12L6.74 19H2.5z"/></svg></span> MeshCentral is online</label><label for="__tabbed_12_2"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 19v-3h8v3zm-4.5-6L2.47 7h4.24l4.96 4.95c.58.59.58 1.55 0 2.12L6.74 19H2.5z"/></svg></span> From Local Machine</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Connect to <code>Terminal</code> (Admin Shell)</p>
<p>Run</p>
<div class="highlight"><pre><span></span><code>net stop tacticalrmm
net start tacticalrmm
</code></pre></div>
<p>Check if Tactical RMM agent is online.</p>
</div>
<div class="tabbed-block">
<p>Start / Restart Tactical RMM service from either <code>services.msc</code> or from Admin Command prompt:</p>
<div class="highlight"><pre><span></span><code>net stop tacticalrmm
net start tacticalrmm
</code></pre></div>
<p>Open <code>C:\Program Files\TacticalAgent\agent.log</code> to look for issues.</p>
</div>
</div>
</div>
<h3 id="windows-update-management">Windows Update Management<a class="headerlink" href="#windows-update-management" title="Permanent link">&para;</a></h3>
<p><em>The current Tactical RMM Windows Update process is relatively simple atm. As of right now, it is in the top 3 big items to be reworked.</em></p>
<h4 id="tldr-tactical-rmm-based-patching-recommendation">TLDR: Tactical RMM Based Patching Recommendation<a class="headerlink" href="#tldr-tactical-rmm-based-patching-recommendation" title="Permanent link">&para;</a></h4>
<ul>
<li>Use the <code>Automation Policy</code> &gt; <code>Patch Policy</code> to apply it to machines. The <code>Other</code> category is poorly named by Microsoft, those are the regular monthly updates and should be auto-approved.</li>
<li>Be patient, and things will be patched (based on the policy).</li>
<li>Trying to immediately approve patches to many machines <strong>OR</strong> block specific patches is a slow and manual process.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you want more control of Windows patching right now, look into a script-based implementation of <a href="http://woshub.com/pswindowsupdate-module/">PSWindowsUpdate</a>.</p>
</div>
<p><strong>Be aware</strong>: When you install the Tactical RMM Agent on a Windows computer it sets this:</p>
<div class="highlight"><pre><span></span><code>HKEY_LOCAL_MACHINE\SOFTWARE\Policies\Microsoft\Windows\WindowsUpdate\AU
AUOptions (REG_DWORD):
1: Keep my computer up to date is disabled in Automatic Updates.
</code></pre></div>
<p>If you want to resume normal Windows patching and disable Tactical RMM updating functions, you should run <a href="https://github.com/amidaware/community-scripts/blob/main/scripts/Win_Windows_Update_RevertToDefault.ps1">this</a>.</p>
<p><strong>Where does it get updates from?</strong> TRMM gets the list of Windows updates using this Microsoft API: <a href="https://docs.microsoft.com/en-us/windows/win32/api/_wua/">https://docs.microsoft.com/en-us/windows/win32/api/_wua/</a></p>
<p>The Tactical RMM server updates an agent's patch list every 8 hours based on the patch policy to check for what to update, and what's installed.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently if the agent is not online at the time the patch policy is set to install, there is no "install as soon as it comes online".</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Trying to get reboots to happen at specific times after Windows update? Set your <code>Reboot After Installation</code> to: Never<br>
Then create a task that reboots at your preferred date/time</p>
</div>
<h3 id="log-files">Log Files<a class="headerlink" href="#log-files" title="Permanent link">&para;</a></h3>
<p>You can find 3 sets of detailed logs at <code>/rmm/api/tacticalrmm/tacticalrmm/private/log</code>.</p>
<ul>
<li><code>error.log</code> Nginx log for all errors on all TRMM URL's: rmm, api and mesh</li>
</ul>
<div class="highlight"><pre><span></span><code>tail<span class="w"> </span>-f<span class="w"> </span>/rmm/api/tacticalrmm/tacticalrmm/private/log/error.log
</code></pre></div>
<ul>
<li><code>access.log</code> Nginx log for auditing access on all URL's: rmm, api and mesh (<em>this is a large file, and should be cleaned periodically</em>)</li>
</ul>
<div class="highlight"><pre><span></span><code>tail<span class="w"> </span>-f<span class="w"> </span>/rmm/api/tacticalrmm/tacticalrmm/private/log/access.log
</code></pre></div>
<ul>
<li><code>django_debug.log</code> created by Django webapp</li>
</ul>
<div class="highlight"><pre><span></span><code>tail<span class="w"> </span>-f<span class="w"> </span>/rmm/api/tacticalrmm/tacticalrmm/private/log/django_debug.log
</code></pre></div>
<h3 id="failed-successful-admin-logins">Failed / Successful Admin logins<a class="headerlink" href="#failed-successful-admin-logins" title="Permanent link">&para;</a></h3>
<p>These are logged in <code>/rmm/api/tacticalrmm/tacticalrmm/private/log/access.log</code></p>
<p>Successful Login</p>
<div class="highlight"><pre><span></span><code>10.0.0.18 - - [21/May/2025:00:01:43 -0400] &quot;POST /v2/checkcreds/ HTTP/1.1&quot; 200 13 &quot;https://rmm.example.com/&quot; &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36&quot;
</code></pre></div>
<p>Failed Login</p>
<div class="highlight"><pre><span></span><code>10.0.8.62 - - [21/May/2025:00:01:13 -0400] &quot;POST /v2/checkcreds/ HTTP/1.1&quot; 400 17 &quot;https://rmm.example.com/&quot; &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36&quot;
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>10.0.0.18</code></td>
<td>Client IP address</td>
</tr>
<tr>
<td><code>-</code></td>
<td>Unused (RFC 1413 identity)</td>
</tr>
<tr>
<td><code>-</code></td>
<td>Unused (authenticated user ID)</td>
</tr>
<tr>
<td><code>[21/May/2025:00:01:43 -0400]</code></td>
<td>Timestamp (local time with timezone offset)</td>
</tr>
<tr>
<td><code>"POST /v2/checkcreds/ HTTP/1.1"</code></td>
<td>HTTP request method, path, and version</td>
</tr>
<tr>
<td><code>200</code></td>
<td>HTTP status code (200 = OK/success) (400 = Failed)</td>
</tr>
<tr>
<td><code>13</code></td>
<td>Response size in bytes (body only)</td>
</tr>
<tr>
<td><code>"https://rmm.example.com/"</code></td>
<td>Referer URL (origin of the request)</td>
</tr>
<tr>
<td><code>"Mozilla/5.0 (Windows NT 10.0;...)</code></td>
<td>User-Agent string (browser and OS info)</td>
</tr>
</tbody>
</table>
<p><a href="../unsupported_scripts/#fail2ban">Fail2Ban</a> uses this to limit password guessing</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/amidaware/tacticalrmm" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["content.code.copy"], "search": "../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
        <script src="../js/image-zoom.js"></script>
      
        <script src="../js/copy-to-clipboard.js"></script>
      
    
  </body>
</html>